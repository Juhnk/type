exports.id=635,exports.ids=[635],exports.modules={4203:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var s=r(68208);let n="typeamp_token",o=(0,s.v)(e=>({user:null,token:null,login:(t,r)=>{localStorage.setItem(n,r),e({user:t,token:r})},logout:()=>{localStorage.removeItem(n),e({user:null,token:null})},initializeAuth:()=>{let t=localStorage.getItem(n);t&&e({token:t})}}))},9782:(e,t,r)=>{"use strict";r.d(t,{Header:()=>p});var s=r(13486);r(60159);var n=r(49989),o=r.n(n),a=r(39499),i=r(57956),l=r(74782),d=r(26329),c=r(34606),u=r(74941),m=r(51316),h=r(4203);function p(){let{openAuthModal:e}=(0,m.K)(),{user:t,logout:r}=(0,h.n)();return(0,s.jsxs)("header",{className:"bg-background flex items-center justify-between border-b px-6 py-4",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsx)(o(),{href:"/",className:"text-xl font-bold",children:"TypeAmp"})}),(0,s.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,s.jsxs)(o(),{href:"/",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,s.jsx)(a.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Home"})]}),(0,s.jsxs)(o(),{href:"/profile",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,s.jsx)(i.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Profile"})]}),(0,s.jsxs)(o(),{href:"/stats",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,s.jsx)(l.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Stats"})]}),(0,s.jsxs)(o(),{href:"/learn",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Learn"})]}),(0,s.jsxs)(o(),{href:"/settings",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,s.jsx)(c.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Settings"})]})]}),t?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:t.email}),(0,s.jsx)(u.$,{variant:"outline",onClick:r,children:"Logout"})]}):(0,s.jsx)(u.$,{variant:"outline",onClick:e,children:"Login"})]})}},13108:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,42671,23)),Promise.resolve().then(r.bind(r,52434)),Promise.resolve().then(r.bind(r,36422)),Promise.resolve().then(r.bind(r,19552)),Promise.resolve().then(r.bind(r,67756)),Promise.resolve().then(r.bind(r,77280))},14276:()=>{},19552:(e,t,r)=>{"use strict";r.d(t,{EnhancedCommandPalette:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call EnhancedCommandPalette() from the server but EnhancedCommandPalette is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/core/EnhancedCommandPalette.tsx","EnhancedCommandPalette")},23025:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var s=r(13486);r(60159);var n=r(26518);function o({className:e,type:t,...r}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},23256:(e,t,r)=>{"use strict";r.d(t,{AuthModal:()=>$});var s=r(13486),n=r(60159),o=r(85626),a=r(39439),i=r(67201),l=r(79021),d=r(4279),c=r(26518);let u=d.bL,m=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(d.B8,{ref:r,className:(0,c.cn)("bg-muted text-muted-foreground inline-flex h-10 items-center justify-center rounded-md p-1",e),...t}));m.displayName=d.B8.displayName;let h=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(d.l9,{ref:r,className:(0,c.cn)("ring-offset-background focus-visible:ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center rounded-sm px-3 py-1.5 text-sm font-medium whitespace-nowrap transition-all focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm",e),...t}));h.displayName=d.l9.displayName;let p=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(d.UC,{ref:r,className:(0,c.cn)("ring-offset-background focus-visible:ring-ring mt-2 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none",e),...t}));p.displayName=d.UC.displayName;var g=r(90691),f=r(44207);let x=(0,r(76353).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),w=n.forwardRef(({className:e,...t},r)=>(0,s.jsx)(f.b,{ref:r,className:(0,c.cn)(x(),e),...t}));w.displayName=f.b.displayName;let v=o.Op,y=n.createContext({}),b=({...e})=>(0,s.jsx)(y.Provider,{value:{name:e.name},children:(0,s.jsx)(o.xI,{...e})}),j=()=>{let e=n.useContext(y),t=n.useContext(C),{getFieldState:r}=(0,o.xW)(),s=(0,o.lN)({name:e.name}),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},C=n.createContext({});function N({className:e,...t}){let r=n.useId();return(0,s.jsx)(C.Provider,{value:{id:r},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,c.cn)("grid gap-2",e),...t})})}function k({className:e,...t}){let{error:r,formItemId:n}=j();return(0,s.jsx)(w,{"data-slot":"form-label","data-error":!!r,className:(0,c.cn)("data-[error=true]:text-destructive",e),htmlFor:n,...t})}function S({...e}){let{error:t,formItemId:r,formDescriptionId:n,formMessageId:o}=j();return(0,s.jsx)(g.DX,{"data-slot":"form-control",id:r,"aria-describedby":t?`${n} ${o}`:`${n}`,"aria-invalid":!!t,...e})}function P({className:e,...t}){let{error:r,formMessageId:n}=j(),o=r?String(r?.message??""):t.children;return o?(0,s.jsx)("p",{"data-slot":"form-message",id:n,className:(0,c.cn)("text-destructive text-sm",e),...t,children:o}):null}var A=r(23025),T=r(74941),M=r(51316),E=r(4203),I=r(64075),W=r(81604);let R=i.Ik({email:i.Yj().email("Please enter a valid email address"),password:i.Yj().min(6,"Password must be at least 6 characters")});function $(){let{isAuthModalOpen:e,closeAuthModal:t}=(0,M.K)(),{login:r}=(0,E.n)(),n=(0,o.mN)({resolver:(0,a.u)(R),defaultValues:{email:"",password:""}}),i=(0,o.mN)({resolver:(0,a.u)(R),defaultValues:{email:"",password:""}}),d=async e=>{try{let s=await (0,I.Lx)({email:e.email,password:e.password});W.o.success("Login successful!"),r(s.user,s.token),t(),n.reset();try{let e=await (0,I.zW)(s.token);e&&W.o.success(`Synced ${e.count} test results to your account`)}catch(e){console.error("History sync error:",e),W.o.error("Failed to sync test history, but login was successful")}}catch(t){let e=t instanceof Error?t.message:"Login failed";W.o.error(e),console.error("Login error:",t)}},c=async e=>{try{let s=await (0,I.DY)({email:e.email,password:e.password});W.o.success("Registration successful!"),r(s.user,s.token),t(),i.reset();try{let e=await (0,I.zW)(s.token);e&&W.o.success(`Synced ${e.count} test results to your account`)}catch(e){console.error("History sync error:",e),W.o.error("Failed to sync test history, but registration was successful")}}catch(t){let e=t instanceof Error?t.message:"Registration failed";W.o.error(e),console.error("Registration error:",t)}};return(0,s.jsx)(l.lG,{open:e,onOpenChange:t,children:(0,s.jsxs)(l.Cf,{className:"sm:max-w-[425px]",children:[(0,s.jsx)(l.c7,{children:(0,s.jsx)(l.L3,{children:"Welcome to TypeAmp"})}),(0,s.jsxs)(u,{defaultValue:"login",className:"w-full",children:[(0,s.jsxs)(m,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(h,{value:"login",children:"Login"}),(0,s.jsx)(h,{value:"register",children:"Register"})]}),(0,s.jsx)(p,{value:"login",className:"space-y-4",children:(0,s.jsx)(v,{...n,children:(0,s.jsxs)("form",{onSubmit:n.handleSubmit(d),className:"space-y-4",children:[(0,s.jsx)(b,{control:n.control,name:"email",render:({field:e})=>(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{children:"Email"}),(0,s.jsx)(S,{children:(0,s.jsx)(A.p,{type:"email",placeholder:"Enter your email",...e})}),(0,s.jsx)(P,{})]})}),(0,s.jsx)(b,{control:n.control,name:"password",render:({field:e})=>(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{children:"Password"}),(0,s.jsx)(S,{children:(0,s.jsx)(A.p,{type:"password",placeholder:"Enter your password",...e})}),(0,s.jsx)(P,{})]})}),(0,s.jsx)(T.$,{type:"submit",className:"w-full",children:"Sign In"})]})})}),(0,s.jsx)(p,{value:"register",className:"space-y-4",children:(0,s.jsx)(v,{...i,children:(0,s.jsxs)("form",{onSubmit:i.handleSubmit(c),className:"space-y-4",children:[(0,s.jsx)(b,{control:i.control,name:"email",render:({field:e})=>(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{children:"Email"}),(0,s.jsx)(S,{children:(0,s.jsx)(A.p,{type:"email",placeholder:"Enter your email",...e})}),(0,s.jsx)(P,{})]})}),(0,s.jsx)(b,{control:i.control,name:"password",render:({field:e})=>(0,s.jsxs)(N,{children:[(0,s.jsx)(k,{children:"Password"}),(0,s.jsx)(S,{children:(0,s.jsx)(A.p,{type:"password",placeholder:"Create a password (min. 6 characters)",...e})}),(0,s.jsx)(P,{})]})}),(0,s.jsx)(T.$,{type:"submit",className:"w-full",children:"Create Account"})]})})})]})]})})}},26518:(e,t,r)=>{"use strict";r.d(t,{cn:()=>o});var s=r(4627),n=r(55855);function o(...e){return(0,n.QP)((0,s.$)(e))}},31668:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,49989,23)),Promise.resolve().then(r.bind(r,81604)),Promise.resolve().then(r.bind(r,23256)),Promise.resolve().then(r.bind(r,71531)),Promise.resolve().then(r.bind(r,9782)),Promise.resolve().then(r.bind(r,73754))},34179:(e,t,r)=>{"use strict";function s(){return[]}function n(e){}function o(){}function a(e){return 0===e.length?0:Math.round(e.reduce((e,t)=>e+t.wpm,0)/e.length)}function i(e){return 0===e.length?0:Math.max(...e.map(e=>e.wpm))}function l(e){return 0===e.length?0:Math.round(e.reduce((e,t)=>e+t.accuracy,0)/e.length)}function d(e){return e.length}r.d(t,{$u:()=>l,Hz:()=>i,XA:()=>d,XP:()=>s,_J:()=>o,od:()=>a,pO:()=>n})},36422:(e,t,r)=>{"use strict";r.d(t,{AuthModal:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call AuthModal() from the server but AuthModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/auth/AuthModal.tsx","AuthModal")},51316:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});let s=(0,r(68208).v)(e=>({isAuthModalOpen:!1,openAuthModal:()=>e({isAuthModalOpen:!0}),closeAuthModal:()=>e({isAuthModalOpen:!1})}))},62019:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,69355,23)),Promise.resolve().then(r.t.bind(r,54439,23)),Promise.resolve().then(r.t.bind(r,67851,23)),Promise.resolve().then(r.t.bind(r,94730,23)),Promise.resolve().then(r.t.bind(r,19774,23)),Promise.resolve().then(r.t.bind(r,53170,23)),Promise.resolve().then(r.t.bind(r,20968,23)),Promise.resolve().then(r.t.bind(r,78298,23))},64075:(e,t,r)=>{"use strict";r.d(t,{DY:()=>a,E7:()=>c,GO:()=>h,Lx:()=>i,bS:()=>d,gB:()=>u,zW:()=>l});var s=r(34179);let n="http://localhost:8081";class o{async makeRequest(e,t={}){let r=`${n}${e}`,s={headers:{"Content-Type":"application/json",...t.headers},signal:AbortSignal.timeout(1e4),...t};try{let e,t=await fetch(r,s);try{e=await t.json()}catch{throw Error(`Server returned invalid response. Status: ${t.status}`)}if(!t.ok)if(0===t.status||t.status>=500)throw Error("Server is currently unavailable. Please try again later.");else if(404===t.status)throw Error("The requested resource was not found.");else if(401===t.status)throw Error("Invalid credentials. Please check your email and password.");else if(409===t.status)throw Error("An account with this email already exists.");else throw Error(e?.error||`Request failed with status ${t.status}`);return e}catch(e){if(e instanceof Error){if("AbortError"===e.name||"TimeoutError"===e.name)throw Error("Request timed out. Please check your connection and try again.");if(e.message.includes("Failed to fetch")||e.message.includes("NetworkError"))throw Error("Network error. Please check your internet connection and ensure the server is running.");throw e}throw Error("An unexpected error occurred. Please try again.")}}constructor(){this.registerUser=async e=>this.makeRequest("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),this.loginUser=async e=>this.makeRequest("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),this.syncLocalHistory=async e=>{let t=(0,s.XP)();if(0===t.length)return null;let r=t.map(e=>({wpm:e.wpm,accuracy:e.accuracy,rawWpm:e.wpm,consistency:null,config:{mode:e.mode,duration:e.duration,wordCount:e.wordCount,textSource:e.textSource,difficulty:e.difficulty,punctuation:e.punctuation},tags:[],timestamp:new Date(e.timestamp).toISOString()})),n=await this.makeRequest("/api/me/tests/bulk",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:JSON.stringify({testResults:r})});return(0,s._J)(),n},this.generateChallenge=async(e,t)=>this.makeRequest("/api/generate-challenge",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({prompt:e})}),this.saveSingleTest=async(e,t)=>{let r={wpm:e.wpm,accuracy:e.accuracy,rawWpm:e.wpm,consistency:null,config:{mode:e.mode,duration:e.duration,wordCount:e.wordCount,textSource:e.textSource,difficulty:e.difficulty,punctuation:e.punctuation},tags:[],timestamp:new Date(e.timestamp).toISOString()};return this.makeRequest("/api/me/tests",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(r)})},this.getWords=async(e="english1k",t=100,r=!0,s={})=>{let n=new URLSearchParams({list:e,limit:t.toString(),randomize:r.toString()});return void 0!==s.punctuation&&n.append("punctuation",s.punctuation.toString()),void 0!==s.numbers&&n.append("numbers",s.numbers.toString()),s.punctuationDensity&&n.append("punctuation_density",s.punctuationDensity),this.makeRequest(`/api/words?${n.toString()}`)},this.getWordLists=async()=>this.makeRequest("/api/words/lists")}}let{registerUser:a,loginUser:i,syncLocalHistory:l,generateChallenge:d,saveSingleTest:c,getWords:u,getWordLists:m}=new o;async function h(e,t){let r=await fetch(`${n}${e}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(!r.ok){let e=await r.json(),t=Error("An error occurred while fetching the data.");throw t.info=e,t.status=r.status,t}return r.json()}},64909:(e,t,r)=>{"use strict";r.d(t,{T:()=>f});var s=r(68208),n=r(34179),o=r(64075),a=r(4203);function i(e,t){if(!e||0===e.length)throw Error("No words provided for text generation");switch(t.mode){case"time":return function(e,t,r){let s=l(e,Math.ceil(t/60*48));return r?d(s):s.join(" ")}(e,t.duration,t.punctuation);case"words":return function(e,t,r){let s=l(e,t);return r?d(s):s.join(" ")}(e,t.wordCount,t.punctuation);case"quote":return function(e,t){let r=[],s=0,n=Math.floor(3*Math.random())+3;for(let o=0;o<n;o++){let n=Math.floor(11*Math.random())+5,o=[];for(let t=0;t<n;t++)o.push(e[s%e.length]),s++;o.length>0&&(o[0]=c(o[0]));let a=o.join(" ");r.push(t?a+".":a)}return r.join(" ")}(e,t.punctuation);default:return e.slice(0,50).join(" ")}}function l(e,t){let r=[],s=0;for(;r.length<t;)r.push(e[s%e.length]),s++;return r.slice(0,t)}function d(e){if(!e.length)return"";let t=[],r=[],s=0,n=[()=>Math.floor(25*Math.random())+2e3,()=>Math.floor(100*Math.random())+1,()=>(100*Math.random()).toFixed(1)+"%",()=>"$"+(1e3*Math.random()).toFixed(2),()=>Math.floor(12*Math.random())+1,()=>Math.floor(31*Math.random())+1];for(;s<e.length;){let o=Math.floor(13*Math.random())+6;r=[];for(let t=0;t<o&&s<e.length;t++){let a=e[s];if(.08>Math.random()){let e=n[Math.floor(Math.random()*n.length)];r.push(e().toString()),.7>Math.random()&&(r.push(a),s++);continue}if(t>2&&t<o-2&&.15>Math.random()&&(a+=","),.12>Math.random()){let e={it:["it's","it'll"],do:["don't","doesn't"],can:["can't","cannot"],will:["won't","we'll"],have:["haven't","hasn't"],would:["wouldn't","we'd"],could:["couldn't","could've"],should:["shouldn't","should've"],i:["I'm","I'll","I've","I'd"],you:["you're","you'll","you've","you'd"],we:["we're","we'll","we've","we'd"],they:["they're","they'll","they've","they'd"]},t=a.toLowerCase();if(e[t]&&.6>Math.random()){let r=e[t];a=r[Math.floor(Math.random()*r.length)]}else .05>Math.random()&&(a+="'s")}r.push(a),s++}if(r.length>0&&(r[0]=c(r[0])),r.length>0){let e=r.length-1,t=r[e],s=Math.random();s<.05?r[e]=t+"?":s<.08?r[e]=t+"!":s<.02?r[e]=t+"...":r[e]=t+"."}r.length>0&&t.push(r.join(" "))}if(t.length>1&&.08>Math.random()){let e=Math.floor(Math.random()*t.length);t[e]=`"${t[e]}"`}return function(e){let t=e;if(.02>Math.random()&&(t=t.replace(/\. ([A-Z])/g,(e,t)=>.3>Math.random()?`; ${t.toLowerCase()}`:e)),.01>Math.random()&&(t=t.replace(/\. ([A-Z][^.]*\.)/g,(e,t)=>.5>Math.random()?`: ${t.toLowerCase()}`:e)),.03>Math.random()){let e=t.split(" ");if(e.length>10){let r=Math.floor(Math.random()*(e.length-5))+3,s=["like this","for example","of course","obviously","naturally"],n=s[Math.floor(Math.random()*s.length)];e.splice(r,0,`(${n})`),t=e.join(" ")}}return t}(t.join(" "))}function c(e){return e?e.charAt(0).toUpperCase()+e.slice(1):e}function u(e){return i(["the","quick","brown","fox","jumps","over","lazy","dog","and","runs","through","forest","with","great","speed","while","birds","sing","above","trees","under","bright","blue","sky","during","sunny","afternoon","near","peaceful","river","flowing","gently","towards","distant","mountains","where","eagles","soar","high","among","white","clouds","drifting","slowly","across","vast","horizon","beneath","warm","golden","sunlight","shining"],e)}let m={mode:"time",duration:60,wordCount:50,difficulty:"Normal",textSource:"english1k",punctuation:!1},h={wpm:0,accuracy:0,startTime:0,totalChars:0,correctChars:0,incorrectChars:0,elapsedTime:0},p={lines:[],scrollOffset:0,lineCharOffsets:[]},g="the quick brown fox jumps over the lazy dog",f=(0,s.v)((e,t)=>({testConfig:m,textToType:g,charStates:g.split("").map(e=>({char:e,status:"default"})),userInput:"",gameStatus:"ready",stats:h,isLoadingWords:!1,wordsError:null,words:[],isPreparingGame:!1,gamePreparationError:null,textWindow:p,maxCharsPerLine:70,isContentStreaming:!1,timeRemaining:0,isTimerRunning:!1,gameStartTime:null,timerId:null,wordsCompleted:0,targetWordCount:0,wordsProgress:0,currentWordIndex:0,wordBoundaries:[],testFailed:!1,failureReason:null,setTestConfig:r=>{let{gameStatus:s}=t(),n=t().testConfig;if((void 0!==r.duration||void 0!==r.mode)&&t().resetTimer(),e(e=>({testConfig:{...e.testConfig,...r}})),Object.keys(r).some(e=>r[e]!==n[e])&&"running"!==s&&t().prepareGame(),"time"===r.mode||void 0!==r.duration&&"time"===t().testConfig.mode){let{duration:r}=t().testConfig;e({timeRemaining:1e3*r})}},setTextToType:r=>{let s=t().calculateWordBoundaries(r),{testConfig:n}=t();t().initializeTextWindow(r),e({textToType:r,charStates:r.split("").map((e,t)=>({char:e,status:0===t?"current":"default"})),userInput:"",gameStatus:"ready",wordBoundaries:s,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===n.mode?n.wordCount:0})},loadWordsFromAPI:async()=>{let{testConfig:r}=t();e({isLoadingWords:!0,wordsError:null});try{let s=100;"words"===r.mode?s=r.wordCount:"time"===r.mode&&(s=Math.max(100,Math.ceil(40*r.duration/60)));let n=await (0,o.gB)(r.textSource,s,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});if(n.words&&n.words.length>0){let e=n.enhanced_text||n.words.join(" ");t().setTextToType(e)}else throw Error("No words received from API");e({isLoadingWords:!1})}catch(t){e({isLoadingWords:!1,wordsError:t instanceof Error?t.message:"Failed to load words",textToType:g,charStates:g.split("").map(e=>({char:e,status:"default"}))}),console.error("Failed to load words from API:",t)}},prepareGame:async()=>{let{testConfig:r}=t();e({isPreparingGame:!0,gamePreparationError:null});try{let s=100;"words"===r.mode?s=r.wordCount:"time"===r.mode?s=Math.max(100,Math.ceil(50*r.duration/60)):"quote"===r.mode&&(s=200);let n=await (0,o.gB)(r.textSource,s,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});if(n.words&&n.words.length>0){e({words:n.words});let s=n.enhanced_text||i(n.words,r),o=s.split("").map((e,t)=>({char:e,status:0===t?"current":"default"})),a=t().calculateWordBoundaries(s);t().initializeTextWindow(s),e({textToType:s,charStates:o,userInput:"",gameStatus:"ready",isPreparingGame:!1,gamePreparationError:null,timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:a,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0})}else throw Error("No words received from API")}catch(i){let s=i instanceof Error?i.message:"Failed to prepare game",n=u(r),o=n.split("").map((e,t)=>({char:e,status:0===t?"current":"default"})),a=t().calculateWordBoundaries(n);t().initializeTextWindow(n),e({isPreparingGame:!1,gamePreparationError:s,textToType:n,charStates:o,userInput:"",gameStatus:"ready",timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:a,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0}),console.error("Failed to prepare game:",i)}},resetGamePreparation:()=>{e({isPreparingGame:!1,gamePreparationError:null})},useFallbackWords:()=>{let{testConfig:r}=t(),s=u(r),n=s.split("").map((e,t)=>({char:e,status:0===t?"current":"default"})),o=t().calculateWordBoundaries(s);e({textToType:s,charStates:n,userInput:"",gameStatus:"ready",isPreparingGame:!1,gamePreparationError:null,timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:o,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0})},handleKeyPress:r=>e(s=>{let{gameStatus:n,userInput:o,textToType:a,testConfig:i,wordBoundaries:l}=s;if("ready"===n){let r=Date.now();e({gameStatus:"running",stats:{...s.stats,startTime:r}}),t().startTimer()}if("Backspace"===r){if(0===o.length)return{};let e=o.slice(0,-1),r=[...s.charStates];return r[o.length-1]&&(r[o.length-1].status="default"),r[e.length]&&(r[e.length].status="current"),t().updateStats(),"words"===s.testConfig.mode&&setTimeout(()=>{t().updateWordProgress()},0),{userInput:e,charStates:r}}if(1===r.length&&o.length<a.length){let n=o.length,d=a[n],c=r===d;if("Master"===i.difficulty&&!c)return e({gameStatus:"finished",testFailed:!0,failureReason:`Master Mode: Failed on incorrect keystroke '${r}' (expected '${d}')`}),t().completeGame(),{};let u=o+r,m=[...s.charStates];if(m[n]={char:d,status:c?"correct":"incorrect",timestamp:Date.now()},m[n+1]&&(m[n+1].status="current"),"Expert"===i.difficulty&&" "===r){let r=l.findIndex(e=>e>n)-1;if(r>=0){let s=l[r],o=!1;for(let e=s;e<n;e++)if(m[e]&&"incorrect"===m[e].status){o=!0;break}if(o){let r=a.slice(s,n);return e({gameStatus:"finished",testFailed:!0,failureReason:`Expert Mode: Failed due to errors in word "${r}"`}),t().completeGame(),{}}}}return setTimeout(()=>{t().updateStats(),t().updateWordProgress(),t().checkWordCompletion(),t().updateTextWindow(),"words"!==i.mode&&u.length>=a.length&&t().completeGame()},0),{userInput:u,charStates:m}}return{}}),startGame:()=>{let r=Date.now();e({gameStatus:"running",stats:{...t().stats,startTime:r}}),t().startTimer()},pauseGame:()=>{t().pauseTimer(),e({gameStatus:"paused"})},resumeGame:()=>{e({gameStatus:"running"});let{testConfig:r,timeRemaining:s}=t();"time"===r.mode&&s>0&&t().startTimer()},resetGame:()=>{t().resetTimer();let{textToType:r}=t();e({userInput:"",gameStatus:"ready",stats:h,charStates:r.split("").map((e,t)=>({char:e,status:0===t?"current":"default"})),wordsCompleted:0,wordsProgress:0,currentWordIndex:0,testFailed:!1,failureReason:null})},completeGame:async()=>{t().clearTimer();let r=Date.now(),s=t(),i={...s.stats,endTime:r,elapsedTime:r-s.stats.startTime},l={id:`test-${r}-${Math.random().toString(36).substr(2,9)}`,timestamp:r,mode:s.testConfig.mode,duration:"time"===s.testConfig.mode?s.testConfig.duration:void 0,wordCount:"words"===s.testConfig.mode?s.testConfig.wordCount:void 0,textSource:s.testConfig.textSource,difficulty:s.testConfig.difficulty,punctuation:s.testConfig.punctuation,wpm:i.wpm,accuracy:i.accuracy,totalChars:i.totalChars,correctChars:i.correctChars,incorrectChars:i.incorrectChars},{token:d}=a.n.getState();if(d)try{await (0,o.E7)(l,d)}catch(e){console.error("Failed to save test result to backend:",e),(0,n.pO)(l)}else(0,n.pO)(l);e({gameStatus:"finished",stats:i})},updateStats:()=>e(e=>{let{userInput:t,textToType:r,stats:s}=e,n=Date.now()-s.startTime,o=n/6e4,a=t.split("").filter((e,t)=>e===r[t]).length,i=t.length-a,l=t.length,d=o>0?Math.round(a/5/o):0,c=l>0?Math.round(a/l*100):100;return{stats:{...s,wpm:d,accuracy:c,totalChars:l,correctChars:a,incorrectChars:i,elapsedTime:n}}}),startTimer:()=>{let{testConfig:r,timerId:s}=t();if("time"!==r.mode)return;s&&clearInterval(s);let n=1e3*r.duration,o=Date.now();e({timeRemaining:n,isTimerRunning:!0,gameStartTime:o});let a=setInterval(()=>{let r=Math.max(0,n-(Date.now()-o));e({timeRemaining:r}),r<=0&&t().completeGame()},100);e({timerId:a})},pauseTimer:()=>{let{timerId:r}=t();r&&(clearInterval(r),e({timerId:null,isTimerRunning:!1}))},resetTimer:()=>{let{timerId:r,testConfig:s}=t();r&&clearInterval(r),e({timerId:null,timeRemaining:"time"===s.mode?1e3*s.duration:0,isTimerRunning:!1,gameStartTime:null})},updateTimer:()=>{let{gameStartTime:r,testConfig:s}=t();if(!r||"time"!==s.mode)return;let n=Date.now(),o=Math.max(0,1e3*s.duration-(n-r));e({timeRemaining:o}),o<=0&&t().completeGame()},clearTimer:()=>{let{timerId:r}=t();r&&(clearInterval(r),e({timerId:null}))},calculateWordBoundaries:e=>{let t=[],r=!1;for(let s=0;s<e.length;s++){let n=" "!==e[s];n&&!r?(t.push(s),r=!0):!n&&r&&(r=!1)}return t},updateWordProgress:()=>{let{userInput:r,textToType:s,testConfig:n,wordBoundaries:o,charStates:a}=t();if("words"!==n.mode)return;let i=0,l=0,d=[];for(let e=0;e<o.length;e++){let t=o[e],r=e<o.length-1?o[e+1]:s.length,n=t;for(;n<r&&" "!==s[n];)n++;d.push({start:t,end:n,text:s.slice(t,n)})}for(let e=0;e<d.length&&e<n.wordCount;e++){let t=d[e];if(r.length>t.end){let r=!0;for(let e=t.start;e<t.end;e++)if(a[e]?.status!=="correct"){r=!1;break}r&&i++,l=e+1}else if(r.length>=t.start){l=e;break}}let c=n.wordCount,u=Math.min(100,i/c*100);e({wordsCompleted:i,wordsProgress:u,currentWordIndex:l,targetWordCount:c})},checkWordCompletion:()=>{let{wordsCompleted:e,testConfig:r}=t();"words"===r.mode&&e>=r.wordCount&&t().completeGame()},generateTextInLines:e=>{let{maxCharsPerLine:r}=t(),s=[],n="";for(let t of e){let e=n?`${n} ${t}`:t;e.length<=r?n=e:n?(s.push(n),n=t):(s.push(t),n="")}return n&&s.push(n),s},initializeTextWindow:r=>{let{testConfig:s}=t();if("time"===s.mode){let s=r.split(" "),n=t().generateTextInLines(s),o=[],a=0;for(let e=0;e<n.length;e++)o.push(a),a+=n[e].length,e<n.length-1&&(a+=1);e({textWindow:{lines:n,scrollOffset:0,lineCharOffsets:o}})}else e({textWindow:{...p,lines:[r]}})},updateTextWindow:()=>{let{testConfig:e}=t();"time"===e.mode&&t().checkLineProgression()},checkLineProgression:()=>{let{userInput:r,textWindow:s,testConfig:n}=t();if("time"!==n.mode)return;let o=r.length,{lineCharOffsets:a,scrollOffset:i,lines:l}=s,d=0;for(let e=0;e<a.length;e++)if(o>=a[e])d=e;else break;let c=i+1;if(d===c&&c<l.length-1&&void 0!==a[c]&&o>a[c]){let t=i+1;t!==i&&t<l.length-2&&e({textWindow:{...s,scrollOffset:t}})}o>.8*l.join(" ").length&&t().generateMoreContent()},scrollToNextLine:()=>{},generateMoreContent:async()=>{let{testConfig:r,isContentStreaming:s}=t();if("time"===r.mode&&!s){e({isContentStreaming:!0});try{let e=await (0,o.gB)(r.textSource,50,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});e.words&&e.words.length>0&&t().appendDynamicContent(e.words)}catch(e){console.error("Failed to generate more content:",e),t().appendDynamicContent(["the","quick","brown","fox","jumps","over","lazy","dog","pack","my","box","with","five","dozen","liquor","jugs"])}finally{e({isContentStreaming:!1})}}},appendDynamicContent:r=>{let{textToType:s,textWindow:n,charStates:o}=t(),a=s+" "+r.join(" "),i=a.split(" "),l=t().generateTextInLines(i),d=[],c=0;for(let e=0;e<l.length;e++)d.push(c),c+=l[e].length,e<l.length-1&&(c+=1);let u=[...o];for(let e=o.length;e<a.length;e++)u.push({char:a[e],status:"default"});e({textToType:a,charStates:u,textWindow:{...n,lines:l,lineCharOffsets:d}})}}))},67756:(e,t,r)=>{"use strict";r.d(t,{Header:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/layout/Header.tsx","Header")},71531:(e,t,r)=>{"use strict";r.d(t,{EnhancedCommandPalette:()=>R});var s=r(13486),n=r(60159),o=r(27026),a=r(35795),i=r(26518),l=r(79021);function d({className:e,...t}){return(0,s.jsx)(o.uB,{"data-slot":"command",className:(0,i.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function c({title:e="Command Palette",description:t="Search for a command to run...",children:r,className:n,showCloseButton:o=!0,...a}){return(0,s.jsxs)(l.lG,{...a,children:[(0,s.jsxs)(l.c7,{className:"sr-only",children:[(0,s.jsx)(l.L3,{children:e}),(0,s.jsx)(l.rr,{children:t})]}),(0,s.jsx)(l.Cf,{className:(0,i.cn)("overflow-hidden p-0",n),showCloseButton:o,children:(0,s.jsx)(d,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:r})})]})}function u({className:e,...t}){return(0,s.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,s.jsx)(a.A,{className:"size-4 shrink-0 opacity-50"}),(0,s.jsx)(o.uB.Input,{"data-slot":"command-input",className:(0,i.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function m({className:e,...t}){return(0,s.jsx)(o.uB.List,{"data-slot":"command-list",className:(0,i.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function h({...e}){return(0,s.jsx)(o.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function p({className:e,...t}){return(0,s.jsx)(o.uB.Group,{"data-slot":"command-group",className:(0,i.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function g({className:e,...t}){return(0,s.jsx)(o.uB.Separator,{"data-slot":"command-separator",className:(0,i.cn)("bg-border -mx-1 h-px",e),...t})}function f({className:e,...t}){return(0,s.jsx)(o.uB.Item,{"data-slot":"command-item",className:(0,i.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function x({className:e,...t}){return(0,s.jsx)("span",{"data-slot":"command-shortcut",className:(0,i.cn)("text-muted-foreground ml-auto text-xs tracking-widest",e),...t})}var w=r(64909),v=r(23365),y=r(31207),b=r(9575),j=r(66),C=r(82376),N=r(85700),k=r(86e3),S=r(72513),P=r(44022),A=r(61289),T=r(49391),M=r(15577),E=r(59203),I=r(34606),W=r(81604);function R(){let[e,t]=(0,n.useState)(!1),[r,o]=(0,n.useState)(!1),[a,l]=(0,n.useState)(""),{setTestConfig:d,resetGame:R,gameStatus:$,isPreparingGame:L,testConfig:{mode:_,duration:z,wordCount:F,difficulty:B,textSource:G,punctuation:O}}=(0,w.T)(),[D,q]=(0,n.useState)([]),H=(0,n.useCallback)(async(e,r=!0,s)=>{("running"!==$||window.confirm("Changing settings will reset your current game. Continue?"))&&(o(!0),t(!1),e(),r&&W.o.success(s||"Configuration updated",{description:"New game prepared with updated settings",duration:2e3}),setTimeout(()=>{o(!1)},300))},[$]),J=(0,n.useMemo)(()=>{let e=[{id:"mode-time",label:"Time Mode",icon:(0,s.jsx)(v.A,{className:"h-4 w-4"}),shortcut:"T",action:()=>d({mode:"time"}),isActive:"time"===_,description:"Type for a set duration"},{id:"mode-words",label:"Words Mode",icon:(0,s.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"W",action:()=>d({mode:"words"}),isActive:"words"===_,description:"Type a specific number of words"},{id:"mode-quote",label:"Quote Mode",icon:(0,s.jsx)(b.A,{className:"h-4 w-4"}),shortcut:"Q",action:()=>d({mode:"quote"}),isActive:"quote"===_,description:"Type a custom quote or text"}],t="time"===_?[{id:"duration-15",label:"15 seconds",icon:(0,s.jsx)(j.A,{className:"h-4 w-4"}),shortcut:"1",action:()=>d({duration:15}),isActive:15===z},{id:"duration-30",label:"30 seconds",icon:(0,s.jsx)(j.A,{className:"h-4 w-4"}),shortcut:"2",action:()=>d({duration:30}),isActive:30===z},{id:"duration-60",label:"60 seconds",icon:(0,s.jsx)(j.A,{className:"h-4 w-4"}),shortcut:"3",action:()=>d({duration:60}),isActive:60===z},{id:"duration-120",label:"120 seconds",icon:(0,s.jsx)(j.A,{className:"h-4 w-4"}),shortcut:"4",action:()=>d({duration:120}),isActive:120===z}]:[],r="words"===_?[{id:"words-10",label:"10 words",icon:(0,s.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"1",action:()=>d({wordCount:10}),isActive:10===F},{id:"words-25",label:"25 words",icon:(0,s.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"2",action:()=>d({wordCount:25}),isActive:25===F},{id:"words-50",label:"50 words",icon:(0,s.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"3",action:()=>d({wordCount:50}),isActive:50===F},{id:"words-100",label:"100 words",icon:(0,s.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"4",action:()=>d({wordCount:100}),isActive:100===F}]:[],n=[{id:"difficulty-normal",label:"Normal Mode",icon:(0,s.jsx)(C.A,{className:"h-4 w-4"}),action:()=>d({difficulty:"Normal"}),isActive:"Normal"===B,description:"Standard typing experience"},{id:"difficulty-expert",label:"Expert Mode",icon:(0,s.jsx)(N.A,{className:"h-4 w-4"}),action:()=>d({difficulty:"Expert"}),isActive:"Expert"===B,description:"No errors allowed per word"},{id:"difficulty-master",label:"Master Mode",icon:(0,s.jsx)(k.A,{className:"h-4 w-4"}),action:()=>d({difficulty:"Master"}),isActive:"Master"===B,description:"One mistake ends the test"}];return{modeCommands:e,durationCommands:t,wordCountCommands:r,difficultyCommands:n,wordListCommands:[{id:"list-english1k",label:"English 1K",icon:(0,s.jsx)(S.A,{className:"h-4 w-4"}),action:()=>d({textSource:"english1k"}),isActive:"english1k"===G,description:"Top 1000 English words"},{id:"list-english10k",label:"English 10K",icon:(0,s.jsx)(S.A,{className:"h-4 w-4"}),action:()=>d({textSource:"english10k"}),isActive:"english10k"===G,description:"Top 10000 English words"},{id:"list-javascript",label:"JavaScript",icon:(0,s.jsx)(P.A,{className:"h-4 w-4"}),action:()=>d({textSource:"javascript"}),isActive:"javascript"===G,description:"JavaScript keywords and syntax"},{id:"list-python",label:"Python",icon:(0,s.jsx)(P.A,{className:"h-4 w-4"}),action:()=>d({textSource:"python"}),isActive:"python"===G,description:"Python keywords and syntax"}],modifierCommands:[{id:"toggle-punctuation",label:"Punctuation & Numbers",icon:(0,s.jsx)(A.A,{className:"h-4 w-4"}),shortcut:"P",action:()=>d({punctuation:!O}),isActive:O,description:"Add punctuation and numbers to text"}]}},[_,z,F,B,G,O,d]),U=(e,t)=>t?e.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())||e.description?.toLowerCase().includes(t.toLowerCase())):e,K=e=>(0,s.jsxs)(f,{value:e.label,onSelect:()=>H(e.action,!0,`${e.label} activated`),className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,i.cn)("transition-all",e.isActive?"text-primary":"opacity-50"),children:e.isActive?(0,s.jsx)(T.A,{className:"h-4 w-4"}):e.icon}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.label}),e.description&&(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})]}),e.shortcut&&(0,s.jsx)(x,{children:e.shortcut})]},e.id);return(0,s.jsxs)(s.Fragment,{children:[(r||L)&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(M.A,{className:"h-8 w-8 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground animate-pulse",children:"Preparing new game..."})]})}),(0,s.jsxs)(c,{open:e,onOpenChange:t,children:[(0,s.jsx)(u,{placeholder:"Search commands...",value:a,onValueChange:l}),(0,s.jsxs)(m,{children:[(0,s.jsx)(h,{children:"No commands found."}),(0,s.jsxs)(p,{heading:"Quick Actions",children:[(0,s.jsxs)(f,{value:"reset",onSelect:()=>H(()=>R(),!1),className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(E.A,{className:"h-4 w-4"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:"Reset Current Game"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Start over with current settings"})]})]}),(0,s.jsx)(x,{children:"R"})]}),D.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{className:"my-2"}),(0,s.jsx)("div",{className:"px-2 py-1.5 text-xs font-medium text-muted-foreground",children:"Recent"}),D.slice(0,3).map((e,t)=>(0,s.jsxs)(f,{value:`recent-${e.label}`,onSelect:()=>H(()=>{Object.entries(e.config).forEach(([e,t])=>{d({[e]:t})})},!0,`Loaded: ${e.label}`),className:"flex items-center justify-between cursor-pointer",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(I.A,{className:"h-4 w-4 opacity-50"}),(0,s.jsx)("div",{className:"text-sm",children:e.label})]}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleDateString()})]},`recent-${t}`))]})]}),(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Game Mode",children:U(J.modeCommands,a).map(K)}),"time"===_&&J.durationCommands.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Time Duration",children:U(J.durationCommands,a).map(K)})]}),"words"===_&&J.wordCountCommands.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Word Count",children:U(J.wordCountCommands,a).map(K)})]}),(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Difficulty",children:U(J.difficultyCommands,a).map(K)}),(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Word Lists",children:U(J.wordListCommands,a).map(K)}),(0,s.jsx)(g,{}),(0,s.jsx)(p,{heading:"Modifiers",children:U(J.modifierCommands,a).map(K)}),(0,s.jsx)("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("span",{children:["Press ",(0,s.jsx)("kbd",{className:"px-1 rounded bg-muted",children:"Ctrl+K"})," to toggle"]}),(0,s.jsxs)("span",{children:["Use ",(0,s.jsx)("kbd",{className:"px-1 rounded bg-muted",children:"↑↓"})," to navigate"]})]})})]})]})]})}},73754:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>o});var s=r(13486);r(60159);var n=r(4203);function o({children:e}){let{initializeAuth:t}=(0,n.n)();return(0,s.jsx)(s.Fragment,{children:e})}},74941:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var s=r(13486);r(60159);var n=r(90691),o=r(76353),a=r(26518);let i=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l({className:e,variant:t,size:r,asChild:o=!1,...l}){let d=o?n.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,a.cn)(i({variant:t,size:r,className:e})),...l})}},76091:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,30385,23)),Promise.resolve().then(r.t.bind(r,33737,23)),Promise.resolve().then(r.t.bind(r,86081,23)),Promise.resolve().then(r.t.bind(r,1904,23)),Promise.resolve().then(r.t.bind(r,35856,23)),Promise.resolve().then(r.t.bind(r,55492,23)),Promise.resolve().then(r.t.bind(r,89082,23)),Promise.resolve().then(r.t.bind(r,45812,23))},77280:(e,t,r)=>{"use strict";r.d(t,{AuthProvider:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/providers/AuthProvider.tsx","AuthProvider")},79021:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>c,L3:()=>m,c7:()=>u,lG:()=>i,rr:()=>h});var s=r(13486);r(60159);var n=r(58467),o=r(1039),a=r(26518);function i({...e}){return(0,s.jsx)(n.bL,{"data-slot":"dialog",...e})}function l({...e}){return(0,s.jsx)(n.ZL,{"data-slot":"dialog-portal",...e})}function d({className:e,...t}){return(0,s.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,a.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function c({className:e,children:t,showCloseButton:r=!0,...i}){return(0,s.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,s.jsx)(d,{}),(0,s.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,a.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...i,children:[t,r&&(0,s.jsxs)(n.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(o.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,a.cn)("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m({className:e,...t}){return(0,s.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,a.cn)("text-lg leading-none font-semibold",e),...t})}function h({className:e,...t}){return(0,s.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}},82635:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x,metadata:()=>f});var s=r(38828),n=r(48077),o=r.n(n),a=r(50323),i=r.n(a),l=r(67756),d=r(42671),c=r.n(d);function u(){return(0,s.jsx)("footer",{className:"bg-background border-t py-6",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsxs)("div",{className:"text-muted-foreground flex justify-center space-x-6 text-sm",children:[(0,s.jsx)(c(),{href:"/about",className:"hover:text-foreground transition-colors",children:"About"}),(0,s.jsx)(c(),{href:"/privacy",className:"hover:text-foreground transition-colors",children:"Privacy"}),(0,s.jsx)(c(),{href:"https://github.com/Juhnk/type",target:"_blank",rel:"noopener noreferrer",className:"hover:text-foreground transition-colors",children:"GitHub"})]})})})}var m=r(19552),h=r(36422),p=r(77280),g=r(52434);r(14276);let f={title:"TypeAmp - Typing Practice Game",description:"Frictionless skill amplification through typing practice"};function x({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${o().variable} ${i().variable} font-sans antialiased`,children:(0,s.jsxs)(p.AuthProvider,{children:[(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(l.Header,{}),(0,s.jsx)("main",{className:"container mx-auto flex-1 px-6 py-8",children:e}),(0,s.jsx)(u,{})]}),(0,s.jsx)(m.EnhancedCommandPalette,{}),(0,s.jsx)(h.AuthModal,{}),(0,s.jsx)(g.Toaster,{})]})})})}}};