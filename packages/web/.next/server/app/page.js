(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9699:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(41253);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},17904:(e,t,r)=>{"use strict";r.d(t,{ConfigurationBar:()=>i});var s=r(13486);r(60159);var a=r(64909),n=r(20276);function i(){let e=(0,a.T)(e=>e.testConfig.mode),t=(0,a.T)(e=>e.testConfig.difficulty),r=(0,a.T)(e=>e.testConfig.duration),i=(0,a.T)(e=>e.testConfig.wordCount),o=(0,a.T)(e=>e.testConfig.textSource),l=(0,a.T)(e=>e.testConfig.punctuation),d=(0,a.T)(e=>e.testConfig.customText),c=(0,a.T)(e=>e.setTestConfig);return(0,s.jsxs)("div",{className:"bg-card flex flex-wrap items-center gap-3 rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Mode:"}),(0,s.jsx)(n.E,{variant:"secondary",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{let t=["time","words","quote"],r=t.indexOf(e);c({mode:t[(r+1)%t.length]})},children:e.charAt(0).toUpperCase()+e.slice(1)})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Difficulty:"}),(0,s.jsx)(n.E,{variant:"secondary",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{let e=["Normal","Expert","Master"],r=e.indexOf(t);c({difficulty:e[(r+1)%e.length]})},children:t})]}),"time"===e&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Duration:"}),(0,s.jsxs)(n.E,{variant:"secondary",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{let e=[15,30,60,120],t=e.indexOf(r);c({duration:e[(t+1)%e.length]})},children:[r,"s"]})]}),"words"===e&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Word Count:"}),(0,s.jsxs)(n.E,{variant:"secondary",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{let e=[10,25,50,100],t=e.indexOf(i);c({wordCount:e[(t+1)%e.length]})},children:[i," words"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Word List:"}),(0,s.jsx)(n.E,{variant:"secondary",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{let e=["english1k","english10k","javascript","python"],t=e.indexOf(o);c({textSource:e[(t+1)%e.length]})},children:(e=>{switch(e){case"english1k":return"English 1K";case"english10k":return"English 10K";case"javascript":return"JavaScript";case"python":return"Python";default:return e}})(o)})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsx)(n.E,{variant:l?"default":"outline",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",onClick:()=>{c({punctuation:!l})},children:"Punctuation"})}),"quote"===e&&d&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm font-medium",children:"Custom:"}),(0,s.jsx)(n.E,{variant:"outline",className:"hover:bg-primary hover:text-primary-foreground cursor-pointer transition-colors",children:d.length>20?`${d.substring(0,20)}...`:d})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20276:(e,t,r)=>{"use strict";r.d(t,{E:()=>l});var s=r(13486);r(60159);var a=r(90691),n=r(76353),i=r(26518);let o=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,asChild:r=!1,...n}){let l=r?a.DX:"span";return(0,s.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(o({variant:t}),e),...n})}},22456:(e,t,r)=>{Promise.resolve().then(r.bind(r,62354)),Promise.resolve().then(r.bind(r,41645))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29563:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>c});var s=r(13486);r(60159);var a=r(26518);function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function i({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function o({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function c({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}},33873:e=>{"use strict";e.exports=require("path")},41645:(e,t,r)=>{"use strict";r.d(t,{TypingArea:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call TypingArea() from the server but TypingArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/game/TypingArea.tsx","TypingArea")},57304:(e,t,r)=>{Promise.resolve().then(r.bind(r,17904)),Promise.resolve().then(r.bind(r,94489))},58057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var s=r(24332),a=r(48819),n=r(67851),i=r.n(n),o=r(97540),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let d={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67858)),"/home/juhnk/repos/type/packages/web/src/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,82635)),"/home/juhnk/repos/type/packages/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/juhnk/repos/type/packages/web/src/app/page.tsx"],x={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62354:(e,t,r)=>{"use strict";r.d(t,{ConfigurationBar:()=>s});let s=(0,r(33952).registerClientReference)(function(){throw Error("Attempted to call ConfigurationBar() from the server but ConfigurationBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/juhnk/repos/type/packages/web/src/components/game/ConfigurationBar.tsx","ConfigurationBar")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67858:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(38828);r(61365);var a=r(62354),n=r(41645);function i(){return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Welcome to TypeAmp"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-lg",children:"Frictionless skill amplification through typing practice"})]}),(0,s.jsx)(a.ConfigurationBar,{}),(0,s.jsx)(n.TypingArea,{})]})}},79551:e=>{"use strict";e.exports=require("url")},92816:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(84667).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},94489:(e,t,r)=>{"use strict";r.d(t,{TypingArea:()=>$});var s=r(13486),a=r(60159),n=r.n(a),i=r(64909),o=r(4203),l=r(51316),d=r(29563),c=r(74941),x=r(92816),m=r(84667);let u=(0,m.A)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),p=(0,m.A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var g=r(66),h=r(49391);let f=(0,m.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),v=(0,m.A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function y(){let e=(0,i.T)(e=>e.stats.wpm),t=(0,i.T)(e=>e.stats.accuracy),r=(0,i.T)(e=>e.stats.totalChars),a=(0,i.T)(e=>e.stats.correctChars),n=(0,i.T)(e=>e.stats.incorrectChars),m=(0,i.T)(e=>e.stats.elapsedTime),y=(0,i.T)(e=>e.resetGame),j=(0,i.T)(e=>e.testFailed),b=(0,i.T)(e=>e.failureReason),N=(0,i.T)(e=>e.testConfig),{token:w}=(0,o.n)(),{openAuthModal:k}=(0,l.K)(),T=Math.round(m/1e3);return(0,s.jsxs)(d.Zp,{className:"mx-auto w-full max-w-2xl",children:[(0,s.jsxs)(d.aR,{className:"text-center",children:[(0,s.jsxs)(d.ZB,{className:"flex items-center justify-center gap-2 text-2xl font-bold",children:[j?(0,s.jsx)(x.A,{className:"h-6 w-6 text-red-500"}):(0,s.jsx)(u,{className:"h-6 w-6 text-yellow-500"}),j?"Test Failed!":"Test Complete!"]}),(0,s.jsx)(d.BT,{className:"text-lg",children:j?`Test Failed in ${N.difficulty} Mode`:e>=80?"Outstanding Performance! \uD83D\uDE80":e>=60?"Excellent Typing! \uD83C\uDF1F":e>=40?"Great Job! \uD83D\uDC4F":"Keep Practicing! \uD83D\uDCAA"}),j&&b&&(0,s.jsx)("div",{className:"mt-3 rounded-lg border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-900/20",children:(0,s.jsx)("p",{className:"text-sm font-medium text-red-700 dark:text-red-300",children:b})})]}),(0,s.jsxs)(d.Wu,{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-secondary/50 rounded-lg p-4 text-center",children:[(0,s.jsx)("div",{className:"text-3xl font-bold",children:e}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm font-medium",children:"Words Per Minute"})]}),(0,s.jsxs)("div",{className:"bg-secondary/50 rounded-lg p-4 text-center",children:[(0,s.jsxs)("div",{className:`text-3xl font-bold ${t>=95?"text-green-600 dark:text-green-400":t>=85?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:[t,"%"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm font-medium",children:"Accuracy"})]})]}),(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(p,{className:"h-4 w-4"}),"Characters Typed"]}),(0,s.jsx)("span",{className:"font-medium",children:r})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"✓"}),"Correct"]}),(0,s.jsx)("span",{className:"font-medium text-green-600 dark:text-green-400",children:a})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-red-600 dark:text-red-400",children:"✗"}),"Incorrect"]}),(0,s.jsx)("span",{className:"font-medium text-red-600 dark:text-red-400",children:n})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-4 w-4"}),"Time Elapsed"]}),(0,s.jsxs)("span",{className:"font-medium",children:[T,"s"]})]})]})]}),(0,s.jsxs)(d.wL,{className:"flex gap-3",children:[w?(0,s.jsxs)(c.$,{size:"lg",variant:"outline",className:"flex-1",disabled:!0,children:[(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4 text-green-600"}),"Saved!"]}):(0,s.jsxs)(c.$,{onClick:()=>{k()},size:"lg",variant:"outline",className:"flex-1",children:[(0,s.jsx)(f,{className:"mr-2 h-4 w-4"}),"Save Score"]}),(0,s.jsxs)(c.$,{onClick:y,className:"flex-1",size:"lg",variant:"default",children:[(0,s.jsx)(v,{className:"mr-2 h-4 w-4"}),"Try Again"]})]})]})}var j=r(9575),b=r(82376),N=r(23365),w=r(15577);function k(){let[e,t]=(0,a.useState)({isMobile:!1,isTablet:!1,isDesktop:!0,isTouchDevice:!1,screenWidth:1024,userAgent:""});return e}var T=r(26518);function C({message:e="Loading...",className:t="",variant:r="default",showProgress:a=!1,progress:i=0}){let{isMobile:o}=k(),[l,d]=n().useState(0),c=(()=>{let e={preparing:["Preparing your typing challenge...","Selecting words for your level...","Setting up your practice session..."],typing:["Processing your input...","Calculating your performance...","Analyzing your typing patterns..."],processing:["Saving your results...","Updating your statistics...","Finalizing your session..."],default:["Loading...","Please wait...","Getting things ready..."]};return e[r]||e.default})(),x="Loading..."===e?c[l]:e;return(0,s.jsxs)("div",{className:(0,T.cn)("flex flex-col items-center justify-center space-y-4",o?"py-8":"py-12",t),children:[(0,s.jsx)("div",{className:"flex items-center justify-center",children:(()=>{switch(r){case"preparing":return(0,s.jsx)(j.A,{className:(0,T.cn)("animate-pulse text-blue-500",o?"h-6 w-6":"h-8 w-8")});case"typing":return(0,s.jsx)(b.A,{className:(0,T.cn)("animate-pulse text-green-500",o?"h-6 w-6":"h-8 w-8")});case"processing":return(0,s.jsx)(N.A,{className:(0,T.cn)("animate-spin text-orange-500",o?"h-6 w-6":"h-8 w-8")});default:return(0,s.jsx)(w.A,{className:(0,T.cn)("text-primary animate-spin",o?"h-6 w-6":"h-8 w-8")})}})()}),a&&(0,s.jsxs)("div",{className:"w-full max-w-xs",children:[(0,s.jsx)("div",{className:"h-2 w-full rounded-full bg-gray-200 dark:bg-gray-700",children:(0,s.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${Math.min(100,Math.max(0,i))}%`}})}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-2 text-center text-xs",children:[Math.round(i),"% complete"]})]}),(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)("p",{className:(0,T.cn)("text-muted-foreground font-medium",o?"text-sm":"text-base"),children:x}),"preparing"===r&&(0,s.jsx)("p",{className:"text-muted-foreground/75 text-xs",children:"This may take a few seconds for optimal word selection"})]}),(0,s.jsx)("div",{className:"flex space-x-1",children:[0,1,2].map(e=>(0,s.jsx)("div",{className:(0,T.cn)("bg-primary/30 rounded-full",o?"h-2 w-2":"h-3 w-3"),style:{animation:`pulse 1.5s ease-in-out ${.2*e}s infinite`}},e))})]})}function A({error:e,onRetry:t,onFallback:r,className:a=""}){return(0,s.jsxs)("div",{className:`py-12 text-center ${a}`,children:[(0,s.jsx)("p",{className:"text-destructive mb-4 text-sm",children:e}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[t&&(0,s.jsx)("button",{onClick:t,className:"text-primary hover:text-primary/80 text-sm underline",children:"Try again"}),r&&(0,s.jsx)("button",{onClick:r,className:"text-muted-foreground hover:text-muted-foreground/80 text-sm underline",children:"Use fallback words"})]})]})}function P(){let e=(0,i.T)(e=>e.testConfig),t=(0,i.T)(e=>e.timeRemaining),r=(0,i.T)(e=>e.isTimerRunning),a=(0,i.T)(e=>e.gameStatus);if("time"!==e.mode)return null;let n=Math.ceil(t/1e3),o=Math.floor(n/60),l=n<=5,d=n<=10,c=n<=30;return(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:(0,T.cn)("font-mono text-3xl font-bold transition-all duration-200",{"text-muted-foreground":"ready"===a||"paused"===a,"text-foreground":"running"===a&&!c,"text-orange-600 dark:text-orange-400":c&&!d,"animate-pulse text-red-600 dark:text-red-400":d&&!l,"animate-bounce text-red-700 dark:text-red-300":l,"text-4xl":d,"text-5xl":l}),children:e.duration>=60?`${o}:${(n%60).toString().padStart(2,"0")}`:`${n}s`}),(0,s.jsxs)("div",{className:"ml-3 flex flex-col items-center",children:[(0,s.jsx)("div",{className:(0,T.cn)("h-2 w-2 rounded-full transition-colors duration-200",{"bg-gray-400":"ready"===a||"paused"===a,"animate-pulse bg-green-500":"running"===a&&r,"bg-red-500":"finished"===a})}),(0,s.jsxs)("span",{className:"text-muted-foreground mt-1 text-xs",children:["ready"===a&&"Ready","running"===a&&"Running","paused"===a&&"Paused","finished"===a&&"Finished"]})]})]})}function M(){let e=(0,i.T)(e=>e.gameStatus),t=(0,i.T)(e=>e.stats),r=(0,i.T)(e=>e.testConfig);return"running"!==e&&"finished"!==e?null:(0,s.jsxs)("div",{className:"flex justify-center gap-4 sm:gap-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:(0,T.cn)("font-mono text-xl font-bold sm:text-2xl",t.wpm>=60?"text-green-600 dark:text-green-400":t.wpm>=40?"text-blue-600 dark:text-blue-400":"text-foreground"),children:t.wpm}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs tracking-wide uppercase",children:"WPM"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:(0,T.cn)("font-mono text-xl font-bold sm:text-2xl",t.accuracy>=95?"text-green-600 dark:text-green-400":t.accuracy>=90?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"),children:[t.accuracy,"%"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs tracking-wide uppercase",children:"Accuracy"})]}),"words"===r.mode&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-foreground font-mono text-xl font-bold sm:text-2xl",children:[Math.floor(t.elapsedTime/1e3),"s"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs tracking-wide uppercase",children:"Elapsed"})]}),"time"===r.mode&&(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"text-foreground font-mono text-xl font-bold sm:text-2xl",children:[Math.floor(t.elapsedTime/1e3),"s"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-xs tracking-wide uppercase",children:"Elapsed"})]})]})}function S(){let e=(0,i.T)(e=>e.testConfig),t=(0,i.T)(e=>e.wordsCompleted),r=(0,i.T)(e=>e.wordsProgress),a=(0,i.T)(e=>e.targetWordCount),n=(0,i.T)(e=>e.gameStatus);if("words"!==e.mode||"idle"===n||"ready"===n)return null;let o=r>=80,l=r>=90;return(0,s.jsxs)("div",{className:"mx-auto w-full max-w-lg",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,s.jsxs)("span",{className:(0,T.cn)("text-xs font-medium sm:text-sm",l&&"text-green-600 dark:text-green-400",o&&!l&&"text-blue-600 dark:text-blue-400"),children:[t,"/",a," words"]})]}),(0,s.jsxs)("div",{className:"bg-muted relative h-3 overflow-hidden rounded-full",children:[(0,s.jsx)("div",{className:(0,T.cn)("absolute inset-y-0 left-0 rounded-full transition-all duration-300 ease-out","bg-primary",l&&"bg-green-600 dark:bg-green-400",o&&!l&&"bg-blue-600 dark:bg-blue-400"),style:{width:`${r}%`},children:o&&(0,s.jsx)("div",{className:"animate-shimmer absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent"})}),(0,s.jsx)("div",{className:"absolute inset-0 flex justify-between px-1",children:[25,50,75].map(e=>(0,s.jsx)("div",{className:(0,T.cn)("bg-border/50 h-full w-0.5 transition-opacity",r>=e&&"opacity-50"),style:{marginLeft:`${e}%`}},e))})]}),(0,s.jsx)("div",{className:"mt-1 text-center",children:(0,s.jsxs)("span",{className:"text-muted-foreground text-xs",children:[Math.round(r),"% complete"]})})]})}function $(){(0,i.T)(e=>e.clearTimer),(0,i.T)(e=>e.gameStatus),(0,i.T)(e=>e.isTimerRunning),(0,i.T)(e=>e.pauseTimer),(0,i.T)(e=>e.startTimer);let{isMobile:e,isTouchDevice:t}=k(),r=function(){let[e,t]=(0,a.useState)(!1),{isMobile:r,isTablet:s}=k();return e}(),o=(0,i.T)(e=>e.charStates),l=(0,i.T)(e=>e.gameStatus),d=(0,i.T)(e=>e.testConfig),c=(0,i.T)(e=>e.textWindow);(0,i.T)(e=>e.handleKeyPress);let x=(0,i.T)(e=>e.isPreparingGame),m=(0,i.T)(e=>e.gamePreparationError),u=(0,i.T)(e=>e.prepareGame),p=(0,i.T)(e=>e.useFallbackWords),g=e=>{switch(e){case"correct":return"text-green-600 bg-green-100 dark:text-green-400 dark:bg-green-900/30";case"incorrect":return"text-red-600 bg-red-100 dark:text-red-400 dark:bg-red-900/30";case"current":return"bg-primary text-primary-foreground animate-pulse border-l-2 border-primary";default:return"text-muted-foreground"}},h=()=>{let{lines:t,lineCharOffsets:r,scrollOffset:a}=c,d=Math.max(0,a-2),x=Math.min(t.length,a+3+2),m=t.slice(d,x),u=n().useMemo(()=>(e,t)=>{let a=d+t,n=r[a]||0;return e.split("").map((e,t)=>{let r=o[n+t];return r?(0,s.jsx)("span",{className:`transition-colors duration-150 ${g(r.status)}`,children:" "===e?"\xa0":e},`${a}-${t}`):null})},[r,d]);return(0,s.jsxs)("div",{className:"typing-container relative",children:[(0,s.jsx)("div",{className:(0,T.cn)("overflow-hidden",e?"h-20":"h-24"),role:"textbox","aria-multiline":"true","aria-describedby":"typing-instructions game-status-live",tabIndex:0,children:(0,s.jsx)("div",{className:(0,T.cn)("font-mono leading-8",e?"text-base":"text-lg sm:text-xl"),style:{transform:`translateY(-${(a-d)*(e?28:32)}px)`,transition:"transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94)",willChange:"transform"},children:m.map((t,r)=>(0,s.jsx)("div",{className:(0,T.cn)("leading-8",e?"min-h-[28px]":"min-h-[32px]"),role:"textbox","aria-label":`Line ${d+r+1}`,children:u(t,r)},`line-${d+r}`))})}),(0,i.T)(e=>e.isContentStreaming)&&(0,s.jsx)("div",{className:"absolute top-0 right-0 animate-pulse text-xs text-blue-600 dark:text-blue-400",children:"Loading more content..."}),"ready"===l&&(0,s.jsx)("p",{className:"text-muted-foreground mt-6 text-center text-sm",children:"Start typing to begin the test..."}),"paused"===l&&(0,s.jsx)("p",{className:"mt-6 text-center text-sm font-medium text-orange-600 dark:text-orange-400",children:"Test paused - continue typing to resume"})]})},f=()=>(0,s.jsxs)("div",{className:"typing-container relative",children:[(0,s.jsx)("div",{className:(0,T.cn)("w-full font-mono leading-relaxed tracking-wide break-words focus:outline-none",e?"min-h-[150px] text-base":"min-h-[200px] text-lg sm:text-xl lg:text-2xl"),role:"textbox","aria-multiline":"true","aria-describedby":"typing-instructions game-status-live",tabIndex:0,children:o.map((e,t)=>(0,s.jsx)("span",{className:`transition-colors duration-150 ${g(e.status)}`,"aria-label":"current"===e.status?"Current character":void 0,children:" "===e.char?"\xa0":e.char},t))}),"ready"===l&&(0,s.jsx)("p",{className:"text-muted-foreground mt-6 text-center text-sm",children:"Start typing to begin the test..."}),"paused"===l&&(0,s.jsx)("p",{className:"mt-6 text-center text-sm font-medium text-orange-600 dark:text-orange-400",children:"Test paused - continue typing to resume"})]});return(0,s.jsxs)("div",{className:(0,T.cn)("mx-auto w-full max-w-5xl space-y-6",e&&"space-y-4 px-4",r&&"pb-4"),children:["time"===d.mode&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(P,{})}),(0,s.jsx)(S,{}),(0,s.jsx)("div",{className:"w-full",children:(0,s.jsxs)("div",{className:(0,T.cn)("bg-card focus-within:ring-ring rounded-lg border focus-within:ring-2",e?"p-4":"p-6 sm:p-8",t&&"touch-manipulation"),role:"main","aria-label":"Typing practice area",children:[(0,s.jsxs)("div",{id:"typing-instructions",className:"sr-only",children:["time"===d.mode?`Type the text shown to practice your typing speed. Timer: ${d.duration} seconds.`:"words"===d.mode?`Type ${d.wordCount} words as quickly and accurately as possible.`:"Type the quote shown as quickly and accurately as possible."," ","Use backspace to correct mistakes. Press Escape to open the command palette. Current difficulty: ",d.difficulty,"."]}),(0,s.jsxs)("div",{id:"game-status-live",className:"sr-only","aria-live":"polite","aria-atomic":"false",children:["ready"===l&&"Ready to start typing","running"===l&&"Test in progress","paused"===l&&"Test paused","finished"===l&&"Test completed"]}),x?(0,s.jsx)(C,{message:"Preparing your typing challenge...",variant:"preparing"}):m?(0,s.jsx)(A,{error:`Game preparation failed: ${m}`,onRetry:u,onFallback:p}):(0,s.jsx)(()=>"time"===d.mode?(0,s.jsx)(h,{}):(0,s.jsx)(f,{}),{})]})}),"running"===l&&(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(M,{})}),"finished"===l&&(0,s.jsx)(y,{})]})}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[191,692,253,635],()=>r(58057));module.exports=s})();