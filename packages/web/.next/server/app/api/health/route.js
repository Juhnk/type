(()=>{var e={};e.id=772,e.ids=[772],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8136:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>m,routeModule:()=>h,serverHooks:()=>d,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>p});var s={};t.r(s),t.d(s,{GET:()=>i,HEAD:()=>c});var a=t(48106),n=t(48819),o=t(12050),u=t(4235);async function i(){try{let e=new Date,r=process.uptime(),t={timestamp:e.toISOString(),uptime:`${Math.floor(r/60)}m ${Math.floor(r%60)}s`,status:"healthy",version:process.env.npm_package_version||"1.0.0",environment:"production",checks:{memory:function(){try{let e=process.memoryUsage(),r={rss:Math.round(e.rss/1024/1024),heapTotal:Math.round(e.heapTotal/1024/1024),heapUsed:Math.round(e.heapUsed/1024/1024),external:Math.round(e.external/1024/1024)},t="healthy",s=`Memory usage: ${r.heapUsed}MB / ${r.heapTotal}MB`;return r.heapUsed>1e3?(t="unhealthy",s=`Critical memory usage: ${r.heapUsed}MB`):r.heapUsed>500&&(t="degraded",s=`High memory usage: ${r.heapUsed}MB`),{status:t,message:s,metrics:r}}catch(e){return{status:"unhealthy",message:"Failed to check memory usage",error:e instanceof Error?e.message:"Unknown error"}}}(),environment:function(){try{let e=["NODE_ENV","NEXT_PUBLIC_API_URL"].filter(e=>!process.env[e]);if(e.length>0)return{status:"unhealthy",message:`Missing required environment variables: ${e.join(", ")}`};return{status:"healthy",message:"All required environment variables are set",environment:"production"}}catch(e){return{status:"unhealthy",message:"Failed to check environment variables",error:e instanceof Error?e.message:"Unknown error"}}}(),build:function(){try{return{status:"healthy",message:"Application built successfully",buildTime:process.env.BUILD_TIME||"unknown",gitSha:process.env.GITHUB_SHA?.substring(0,7)||"unknown"}}catch(e){return{status:"degraded",message:"Build integrity check failed",error:e instanceof Error?e.message:"Unknown error"}}}()}},s=Object.values(t.checks).every(e=>"healthy"===e.status);return s||(t.status="degraded"),u.NextResponse.json(t,{status:s?200:503,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})}catch(e){return console.error("Health check failed:",e),u.NextResponse.json({timestamp:new Date().toISOString(),status:"unhealthy",error:"Health check failed",checks:{system:{status:"unhealthy",message:"Internal error during health check"}}},{status:503,headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})}}async function c(){return new u.NextResponse("ok",{status:200,headers:{"Cache-Control":"no-cache, no-store, must-revalidate"}})}let h=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"/home/juhnk/repos/type/packages/web/src/app/api/health/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:p,serverHooks:d}=h;function m(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:p})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},80408:()=>{},87032:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[191,744],()=>t(8136));module.exports=s})();