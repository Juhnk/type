"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[799],{3928:(t,e,r)=>{r.d(e,{cn:()=>a});var o=r(2987),n=r(607);function a(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(0,n.QP)((0,o.$)(e))}},7227:(t,e,r)=>{r.d(e,{$:()=>l});var o=r(4568);r(7620);var n=r(9649),a=r(615),i=r(3928);let s=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(t){let{className:e,variant:r,size:a,asChild:l=!1,...u}=t,d=l?n.DX:"button";return(0,o.jsx)(d,{"data-slot":"button",className:(0,i.cn)(s({variant:r,size:a,className:e})),...u})}},7567:(t,e,r)=>{r.d(e,{n:()=>a});var o=r(1326);let n="typeamp_token",a=(0,o.v)(t=>({user:null,token:null,login:(e,r)=>{localStorage.setItem(n,r),t({user:e,token:r})},logout:()=>{localStorage.removeItem(n),t({user:null,token:null})},initializeAuth:()=>{let e=localStorage.getItem(n);e&&t({token:e})}}))},7629:(t,e,r)=>{r.d(e,{T:()=>f});var o=r(1326),n=r(7649),a=r(9879),i=r(7567);function s(t,e){if(!t||0===t.length)throw Error("No words provided for text generation");switch(e.mode){case"time":return function(t,e,r){let o=l(t,Math.ceil(e/60*48));return r?u(o):o.join(" ")}(t,e.duration,e.punctuation);case"words":return function(t,e,r){let o=l(t,e);return r?u(o):o.join(" ")}(t,e.wordCount,e.punctuation);case"quote":return function(t,e){let r=[],o=0,n=Math.floor(3*Math.random())+3;for(let a=0;a<n;a++){let n=Math.floor(11*Math.random())+5,a=[];for(let e=0;e<n;e++)a.push(t[o%t.length]),o++;a.length>0&&(a[0]=d(a[0]));let i=a.join(" ");r.push(e?i+".":i)}return r.join(" ")}(t,e.punctuation);default:return t.slice(0,50).join(" ")}}function l(t,e){let r=[],o=0;for(;r.length<e;)r.push(t[o%t.length]),o++;return r.slice(0,e)}function u(t){if(!t.length)return"";let e=[],r=[],o=0,n=[()=>Math.floor(25*Math.random())+2e3,()=>Math.floor(100*Math.random())+1,()=>(100*Math.random()).toFixed(1)+"%",()=>"$"+(1e3*Math.random()).toFixed(2),()=>Math.floor(12*Math.random())+1,()=>Math.floor(31*Math.random())+1];for(;o<t.length;){let a=Math.floor(13*Math.random())+6;r=[];for(let e=0;e<a&&o<t.length;e++){let i=t[o];if(.08>Math.random()){let t=n[Math.floor(Math.random()*n.length)];r.push(t().toString()),.7>Math.random()&&(r.push(i),o++);continue}if(e>2&&e<a-2&&.15>Math.random()&&(i+=","),.12>Math.random()){let t={it:["it's","it'll"],do:["don't","doesn't"],can:["can't","cannot"],will:["won't","we'll"],have:["haven't","hasn't"],would:["wouldn't","we'd"],could:["couldn't","could've"],should:["shouldn't","should've"],i:["I'm","I'll","I've","I'd"],you:["you're","you'll","you've","you'd"],we:["we're","we'll","we've","we'd"],they:["they're","they'll","they've","they'd"]},e=i.toLowerCase();if(t[e]&&.6>Math.random()){let r=t[e];i=r[Math.floor(Math.random()*r.length)]}else .05>Math.random()&&(i+="'s")}r.push(i),o++}if(r.length>0&&(r[0]=d(r[0])),r.length>0){let t=r.length-1,e=r[t],o=Math.random();o<.05?r[t]=e+"?":o<.08?r[t]=e+"!":o<.02?r[t]=e+"...":r[t]=e+"."}r.length>0&&e.push(r.join(" "))}if(e.length>1&&.08>Math.random()){let t=Math.floor(Math.random()*e.length);e[t]='"'.concat(e[t],'"')}return function(t){let e=t;if(.02>Math.random()&&(e=e.replace(/\. ([A-Z])/g,(t,e)=>.3>Math.random()?"; ".concat(e.toLowerCase()):t)),.01>Math.random()&&(e=e.replace(/\. ([A-Z][^.]*\.)/g,(t,e)=>.5>Math.random()?": ".concat(e.toLowerCase()):t)),.03>Math.random()){let t=e.split(" ");if(t.length>10){let r=Math.floor(Math.random()*(t.length-5))+3,o=["like this","for example","of course","obviously","naturally"],n=o[Math.floor(Math.random()*o.length)];t.splice(r,0,"(".concat(n,")")),e=t.join(" ")}}return e}(e.join(" "))}function d(t){return t?t.charAt(0).toUpperCase()+t.slice(1):t}function c(t){return s(["the","quick","brown","fox","jumps","over","lazy","dog","and","runs","through","forest","with","great","speed","while","birds","sing","above","trees","under","bright","blue","sky","during","sunny","afternoon","near","peaceful","river","flowing","gently","towards","distant","mountains","where","eagles","soar","high","among","white","clouds","drifting","slowly","across","vast","horizon","beneath","warm","golden","sunlight","shining"],t)}let m={mode:"time",duration:60,wordCount:50,difficulty:"Normal",textSource:"english1k",punctuation:!1},h={wpm:0,accuracy:0,startTime:0,totalChars:0,correctChars:0,incorrectChars:0,elapsedTime:0},g={lines:[],scrollOffset:0,lineCharOffsets:[]},p="the quick brown fox jumps over the lazy dog",f=(0,o.v)((t,e)=>({testConfig:m,textToType:p,charStates:p.split("").map(t=>({char:t,status:"default"})),userInput:"",gameStatus:"ready",stats:h,isLoadingWords:!1,wordsError:null,words:[],isPreparingGame:!1,gamePreparationError:null,textWindow:g,maxCharsPerLine:70,isContentStreaming:!1,timeRemaining:0,isTimerRunning:!1,gameStartTime:null,timerId:null,wordsCompleted:0,targetWordCount:0,wordsProgress:0,currentWordIndex:0,wordBoundaries:[],testFailed:!1,failureReason:null,setTestConfig:r=>{let{gameStatus:o}=e(),n=e().testConfig;if((void 0!==r.duration||void 0!==r.mode)&&e().resetTimer(),t(t=>({testConfig:{...t.testConfig,...r}})),Object.keys(r).some(t=>r[t]!==n[t])&&"running"!==o&&e().prepareGame(),"time"===r.mode||void 0!==r.duration&&"time"===e().testConfig.mode){let{duration:r}=e().testConfig;t({timeRemaining:1e3*r})}},setTextToType:r=>{let o=e().calculateWordBoundaries(r),{testConfig:n}=e();e().initializeTextWindow(r),t({textToType:r,charStates:r.split("").map((t,e)=>({char:t,status:0===e?"current":"default"})),userInput:"",gameStatus:"ready",wordBoundaries:o,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===n.mode?n.wordCount:0})},loadWordsFromAPI:async()=>{let{testConfig:r}=e();t({isLoadingWords:!0,wordsError:null});try{let o=100;"words"===r.mode?o=r.wordCount:"time"===r.mode&&(o=Math.max(100,Math.ceil(40*r.duration/60)));let n=await (0,a.gB)(r.textSource,o,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});if(n.words&&n.words.length>0){let t=n.enhanced_text||n.words.join(" ");e().setTextToType(t)}else throw Error("No words received from API");t({isLoadingWords:!1})}catch(e){t({isLoadingWords:!1,wordsError:e instanceof Error?e.message:"Failed to load words",textToType:p,charStates:p.split("").map(t=>({char:t,status:"default"}))}),console.error("Failed to load words from API:",e)}},prepareGame:async()=>{let{testConfig:r}=e();t({isPreparingGame:!0,gamePreparationError:null});try{let o=100;"words"===r.mode?o=r.wordCount:"time"===r.mode?o=Math.max(100,Math.ceil(50*r.duration/60)):"quote"===r.mode&&(o=200);let n=await (0,a.gB)(r.textSource,o,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});if(n.words&&n.words.length>0){t({words:n.words});let o=n.enhanced_text||s(n.words,r),a=o.split("").map((t,e)=>({char:t,status:0===e?"current":"default"})),i=e().calculateWordBoundaries(o);e().initializeTextWindow(o),t({textToType:o,charStates:a,userInput:"",gameStatus:"ready",isPreparingGame:!1,gamePreparationError:null,timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:i,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0})}else throw Error("No words received from API")}catch(s){let o=s instanceof Error?s.message:"Failed to prepare game",n=c(r),a=n.split("").map((t,e)=>({char:t,status:0===e?"current":"default"})),i=e().calculateWordBoundaries(n);e().initializeTextWindow(n),t({isPreparingGame:!1,gamePreparationError:o,textToType:n,charStates:a,userInput:"",gameStatus:"ready",timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:i,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0}),console.error("Failed to prepare game:",s)}},resetGamePreparation:()=>{t({isPreparingGame:!1,gamePreparationError:null})},useFallbackWords:()=>{let{testConfig:r}=e(),o=c(r),n=o.split("").map((t,e)=>({char:t,status:0===e?"current":"default"})),a=e().calculateWordBoundaries(o);t({textToType:o,charStates:n,userInput:"",gameStatus:"ready",isPreparingGame:!1,gamePreparationError:null,timeRemaining:"time"===r.mode?1e3*r.duration:0,wordBoundaries:a,wordsCompleted:0,wordsProgress:0,currentWordIndex:0,targetWordCount:"words"===r.mode?r.wordCount:0})},handleKeyPress:r=>t(o=>{let{gameStatus:n,userInput:a,textToType:i,testConfig:s,wordBoundaries:l}=o;if("ready"===n){let r=Date.now();t({gameStatus:"running",stats:{...o.stats,startTime:r}}),e().startTimer()}if("Backspace"===r){if(0===a.length)return{};let t=a.slice(0,-1),r=[...o.charStates];return r[a.length-1]&&(r[a.length-1].status="default"),r[t.length]&&(r[t.length].status="current"),e().updateStats(),"words"===o.testConfig.mode&&setTimeout(()=>{e().updateWordProgress()},0),{userInput:t,charStates:r}}if(1===r.length&&a.length<i.length){let n=a.length,u=i[n],d=r===u;if("Master"===s.difficulty&&!d)return t({gameStatus:"finished",testFailed:!0,failureReason:"Master Mode: Failed on incorrect keystroke '".concat(r,"' (expected '").concat(u,"')")}),e().completeGame(),{};let c=a+r,m=[...o.charStates];if(m[n]={char:u,status:d?"correct":"incorrect",timestamp:Date.now()},m[n+1]&&(m[n+1].status="current"),"Expert"===s.difficulty&&" "===r){let r=l.findIndex(t=>t>n)-1;if(r>=0){let o=l[r],a=!1;for(let t=o;t<n;t++)if(m[t]&&"incorrect"===m[t].status){a=!0;break}if(a){let r=i.slice(o,n);return t({gameStatus:"finished",testFailed:!0,failureReason:'Expert Mode: Failed due to errors in word "'.concat(r,'"')}),e().completeGame(),{}}}}return setTimeout(()=>{e().updateStats(),e().updateWordProgress(),e().checkWordCompletion(),e().updateTextWindow(),"words"!==s.mode&&c.length>=i.length&&e().completeGame()},0),{userInput:c,charStates:m}}return{}}),startGame:()=>{let r=Date.now();t({gameStatus:"running",stats:{...e().stats,startTime:r}}),e().startTimer()},pauseGame:()=>{e().pauseTimer(),t({gameStatus:"paused"})},resumeGame:()=>{t({gameStatus:"running"});let{testConfig:r,timeRemaining:o}=e();"time"===r.mode&&o>0&&e().startTimer()},resetGame:()=>{e().resetTimer();let{textToType:r}=e();t({userInput:"",gameStatus:"ready",stats:h,charStates:r.split("").map((t,e)=>({char:t,status:0===e?"current":"default"})),wordsCompleted:0,wordsProgress:0,currentWordIndex:0,testFailed:!1,failureReason:null})},completeGame:async()=>{e().clearTimer();let r=Date.now(),o=e(),s={...o.stats,endTime:r,elapsedTime:r-o.stats.startTime},l={id:"test-".concat(r,"-").concat(Math.random().toString(36).substr(2,9)),timestamp:r,mode:o.testConfig.mode,duration:"time"===o.testConfig.mode?o.testConfig.duration:void 0,wordCount:"words"===o.testConfig.mode?o.testConfig.wordCount:void 0,textSource:o.testConfig.textSource,difficulty:o.testConfig.difficulty,punctuation:o.testConfig.punctuation,wpm:s.wpm,accuracy:s.accuracy,totalChars:s.totalChars,correctChars:s.correctChars,incorrectChars:s.incorrectChars},{token:u}=i.n.getState();if(u)try{await (0,a.E7)(l,u)}catch(t){console.error("Failed to save test result to backend:",t),(0,n.pO)(l)}else(0,n.pO)(l);t({gameStatus:"finished",stats:s})},updateStats:()=>t(t=>{let{userInput:e,textToType:r,stats:o}=t,n=Date.now()-o.startTime,a=n/6e4,i=e.split("").filter((t,e)=>t===r[e]).length,s=e.length-i,l=e.length,u=a>0?Math.round(i/5/a):0,d=l>0?Math.round(i/l*100):100;return{stats:{...o,wpm:u,accuracy:d,totalChars:l,correctChars:i,incorrectChars:s,elapsedTime:n}}}),startTimer:()=>{let{testConfig:r,timerId:o}=e();if("time"!==r.mode)return;o&&clearInterval(o);let n=1e3*r.duration,a=Date.now();t({timeRemaining:n,isTimerRunning:!0,gameStartTime:a});let i=setInterval(()=>{let r=Math.max(0,n-(Date.now()-a));t({timeRemaining:r}),r<=0&&e().completeGame()},100);t({timerId:i})},pauseTimer:()=>{let{timerId:r}=e();r&&(clearInterval(r),t({timerId:null,isTimerRunning:!1}))},resetTimer:()=>{let{timerId:r,testConfig:o}=e();r&&clearInterval(r),t({timerId:null,timeRemaining:"time"===o.mode?1e3*o.duration:0,isTimerRunning:!1,gameStartTime:null})},updateTimer:()=>{let{gameStartTime:r,testConfig:o}=e();if(!r||"time"!==o.mode)return;let n=Date.now(),a=Math.max(0,1e3*o.duration-(n-r));t({timeRemaining:a}),a<=0&&e().completeGame()},clearTimer:()=>{let{timerId:r}=e();r&&(clearInterval(r),t({timerId:null}))},calculateWordBoundaries:t=>{let e=[],r=!1;for(let o=0;o<t.length;o++){let n=" "!==t[o];n&&!r?(e.push(o),r=!0):!n&&r&&(r=!1)}return e},updateWordProgress:()=>{let{userInput:r,textToType:o,testConfig:n,wordBoundaries:a,charStates:i}=e();if("words"!==n.mode)return;let s=0,l=0,u=[];for(let t=0;t<a.length;t++){let e=a[t],r=t<a.length-1?a[t+1]:o.length,n=e;for(;n<r&&" "!==o[n];)n++;u.push({start:e,end:n,text:o.slice(e,n)})}for(let t=0;t<u.length&&t<n.wordCount;t++){let e=u[t];if(r.length>e.end){let r=!0;for(let t=e.start;t<e.end;t++){var d;if((null==(d=i[t])?void 0:d.status)!=="correct"){r=!1;break}}r&&s++,l=t+1}else if(r.length>=e.start){l=t;break}}let c=n.wordCount,m=Math.min(100,s/c*100);t({wordsCompleted:s,wordsProgress:m,currentWordIndex:l,targetWordCount:c})},checkWordCompletion:()=>{let{wordsCompleted:t,testConfig:r}=e();"words"===r.mode&&t>=r.wordCount&&e().completeGame()},generateTextInLines:t=>{let{maxCharsPerLine:r}=e(),o=[],n="";for(let e of t){let t=n?"".concat(n," ").concat(e):e;t.length<=r?n=t:n?(o.push(n),n=e):(o.push(e),n="")}return n&&o.push(n),o},initializeTextWindow:r=>{let{testConfig:o}=e();if("time"===o.mode){let o=r.split(" "),n=e().generateTextInLines(o),a=[],i=0;for(let t=0;t<n.length;t++)a.push(i),i+=n[t].length,t<n.length-1&&(i+=1);t({textWindow:{lines:n,scrollOffset:0,lineCharOffsets:a}})}else t({textWindow:{...g,lines:[r]}})},updateTextWindow:()=>{let{testConfig:t}=e();"time"===t.mode&&e().checkLineProgression()},checkLineProgression:()=>{let{userInput:r,textWindow:o,testConfig:n}=e();if("time"!==n.mode)return;let a=r.length,{lineCharOffsets:i,scrollOffset:s,lines:l}=o,u=0;for(let t=0;t<i.length;t++)if(a>=i[t])u=t;else break;let d=s+1;if(u===d&&d<l.length-1&&void 0!==i[d]&&a>i[d]){let e=s+1;e!==s&&e<l.length-2&&t({textWindow:{...o,scrollOffset:e}})}a>.8*l.join(" ").length&&e().generateMoreContent()},scrollToNextLine:()=>{},generateMoreContent:async()=>{let{testConfig:r,isContentStreaming:o}=e();if("time"===r.mode&&!o){t({isContentStreaming:!0});try{let t=await (0,a.gB)(r.textSource,50,!0,{punctuation:r.punctuation,numbers:r.punctuation,punctuationDensity:"medium"});t.words&&t.words.length>0&&e().appendDynamicContent(t.words)}catch(t){console.error("Failed to generate more content:",t),e().appendDynamicContent(["the","quick","brown","fox","jumps","over","lazy","dog","pack","my","box","with","five","dozen","liquor","jugs"])}finally{t({isContentStreaming:!1})}}},appendDynamicContent:r=>{let{textToType:o,textWindow:n,charStates:a}=e(),i=o+" "+r.join(" "),s=i.split(" "),l=e().generateTextInLines(s),u=[],d=0;for(let t=0;t<l.length;t++)u.push(d),d+=l[t].length,t<l.length-1&&(d+=1);let c=[...a];for(let t=a.length;t<i.length;t++)c.push({char:i[t],status:"default"});t({textToType:i,charStates:c,textWindow:{...n,lines:l,lineCharOffsets:u}})}}))},7649:(t,e,r)=>{r.d(e,{$u:()=>u,Hz:()=>l,XA:()=>d,XP:()=>n,_J:()=>i,od:()=>s,pO:()=>a});let o="typeamp-data";function n(){try{let t=localStorage.getItem(o);if(!t)return[];let e=JSON.parse(t);if(!e.testHistory||!Array.isArray(e.testHistory))return[];return e.testHistory}catch(t){return console.error("Error retrieving test history:",t),[]}}function a(t){try{let e=n(),r={testHistory:[t,...e].slice(0,100),lastUpdated:Date.now()};localStorage.setItem(o,JSON.stringify(r))}catch(t){console.error("Error saving test result:",t)}}function i(){try{localStorage.removeItem(o)}catch(t){console.error("Error clearing test history:",t)}}function s(t){return 0===t.length?0:Math.round(t.reduce((t,e)=>t+e.wpm,0)/t.length)}function l(t){return 0===t.length?0:Math.max(...t.map(t=>t.wpm))}function u(t){return 0===t.length?0:Math.round(t.reduce((t,e)=>t+e.accuracy,0)/t.length)}function d(t){return t.length}},9879:(t,e,r)=>{r.d(e,{DY:()=>i,E7:()=>d,GO:()=>h,Lx:()=>s,bS:()=>u,gB:()=>c,zW:()=>l});var o=r(7649);let n="http://localhost:8081";class a{async makeRequest(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(n).concat(t),o={headers:{"Content-Type":"application/json",...e.headers},signal:AbortSignal.timeout(1e4),...e};try{let t,e=await fetch(r,o);try{t=await e.json()}catch(t){throw Error("Server returned invalid response. Status: ".concat(e.status))}if(!e.ok)if(0===e.status||e.status>=500)throw Error("Server is currently unavailable. Please try again later.");else if(404===e.status)throw Error("The requested resource was not found.");else if(401===e.status)throw Error("Invalid credentials. Please check your email and password.");else if(409===e.status)throw Error("An account with this email already exists.");else throw Error((null==t?void 0:t.error)||"Request failed with status ".concat(e.status));return t}catch(t){if(t instanceof Error){if("AbortError"===t.name||"TimeoutError"===t.name)throw Error("Request timed out. Please check your connection and try again.");if(t.message.includes("Failed to fetch")||t.message.includes("NetworkError"))throw Error("Network error. Please check your internet connection and ensure the server is running.");throw t}throw Error("An unexpected error occurred. Please try again.")}}constructor(){var t=this;this.registerUser=async t=>this.makeRequest("/api/auth/register",{method:"POST",body:JSON.stringify(t)}),this.loginUser=async t=>this.makeRequest("/api/auth/login",{method:"POST",body:JSON.stringify(t)}),this.syncLocalHistory=async t=>{let e=(0,o.XP)();if(0===e.length)return null;let r=e.map(t=>({wpm:t.wpm,accuracy:t.accuracy,rawWpm:t.wpm,consistency:null,config:{mode:t.mode,duration:t.duration,wordCount:t.wordCount,textSource:t.textSource,difficulty:t.difficulty,punctuation:t.punctuation},tags:[],timestamp:new Date(t.timestamp).toISOString()})),n=await this.makeRequest("/api/me/tests/bulk",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify({testResults:r})});return(0,o._J)(),n},this.generateChallenge=async(t,e)=>this.makeRequest("/api/generate-challenge",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify({prompt:t})}),this.saveSingleTest=async(t,e)=>{let r={wpm:t.wpm,accuracy:t.accuracy,rawWpm:t.wpm,consistency:null,config:{mode:t.mode,duration:t.duration,wordCount:t.wordCount,textSource:t.textSource,difficulty:t.difficulty,punctuation:t.punctuation},tags:[],timestamp:new Date(t.timestamp).toISOString()};return this.makeRequest("/api/me/tests",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify(r)})},this.getWords=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"english1k",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=new URLSearchParams({list:e,limit:r.toString(),randomize:o.toString()});return void 0!==n.punctuation&&a.append("punctuation",n.punctuation.toString()),void 0!==n.numbers&&a.append("numbers",n.numbers.toString()),n.punctuationDensity&&a.append("punctuation_density",n.punctuationDensity),t.makeRequest("/api/words?".concat(a.toString()))},this.getWordLists=async()=>this.makeRequest("/api/words/lists")}}let{registerUser:i,loginUser:s,syncLocalHistory:l,generateChallenge:u,saveSingleTest:d,getWords:c,getWordLists:m}=new a;async function h(t,e){let r=await fetch("".concat(n).concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(!r.ok){let t=await r.json(),e=Error("An error occurred while fetching the data.");throw e.info=t,e.status=r.status,e}return r.json()}}}]);