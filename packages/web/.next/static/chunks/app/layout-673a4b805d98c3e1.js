(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2555:(e,t,s)=>{"use strict";s.d(t,{J:()=>c});var r=s(4568),a=s(7620),n=s(6559),o=s(615),i=s(3928);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(n.b,{ref:t,className:(0,i.cn)(l(),s),...a})});c.displayName=n.b.displayName},3139:()=>{},3515:(e,t,s)=>{"use strict";s.d(t,{CommandPalette:()=>v});var r=s(4568),a=s(7620),n=s(4491),o=s(7554),i=s(3928),l=s(8359);function c(e){let{className:t,...s}=e;return(0,r.jsx)(n.uB,{"data-slot":"command",className:(0,i.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...s})}function d(e){let{title:t="Command Palette",description:s="Search for a command to run...",children:a,className:n,showCloseButton:o=!0,...d}=e;return(0,r.jsxs)(l.lG,{...d,children:[(0,r.jsxs)(l.c7,{className:"sr-only",children:[(0,r.jsx)(l.L3,{children:t}),(0,r.jsx)(l.rr,{children:s})]}),(0,r.jsx)(l.Cf,{className:(0,i.cn)("overflow-hidden p-0",n),showCloseButton:o,children:(0,r.jsx)(c,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:a})})]})}function u(e){let{className:t,...s}=e;return(0,r.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,r.jsx)(o.A,{className:"size-4 shrink-0 opacity-50"}),(0,r.jsx)(n.uB.Input,{"data-slot":"command-input",className:(0,i.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})}function m(e){let{className:t,...s}=e;return(0,r.jsx)(n.uB.List,{"data-slot":"command-list",className:(0,i.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...s})}function h(e){let{...t}=e;return(0,r.jsx)(n.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function x(e){let{className:t,...s}=e;return(0,r.jsx)(n.uB.Group,{"data-slot":"command-group",className:(0,i.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...s})}function p(e){let{className:t,...s}=e;return(0,r.jsx)(n.uB.Separator,{"data-slot":"command-separator",className:(0,i.cn)("bg-border -mx-1 h-px",t),...s})}function f(e){let{className:t,...s}=e;return(0,r.jsx)(n.uB.Item,{"data-slot":"command-item",className:(0,i.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}var g=s(7179),j=s(4931);function v(){let[e,t]=(0,a.useState)(!1),s=(0,g.T)(e=>e.setTestConfig),n=(0,g.T)(e=>e.resetGame),o=(0,g.T)(e=>e.testConfig.mode),i=(0,g.T)(e=>e.testConfig.duration),l=(0,g.T)(e=>e.testConfig.wordCount),c=(0,g.T)(e=>e.testConfig.difficulty),v=(0,g.T)(e=>e.testConfig.textSource),y=(0,g.T)(e=>e.testConfig.punctuation);(0,a.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),t(e=>!e))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let w=e=>{t(!1),e()};return(0,r.jsxs)(d,{open:e,onOpenChange:t,children:[(0,r.jsx)(u,{placeholder:"Type a command or search..."}),(0,r.jsxs)(m,{children:[(0,r.jsx)(h,{children:"No results found."}),(0,r.jsxs)(x,{heading:"Mode",children:[(0,r.jsxs)(f,{onSelect:()=>w(()=>s({mode:"time"})),children:["time"===o&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"time"!==o?"ml-6":"",children:"Time"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({mode:"words"})),children:["words"===o&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"words"!==o?"ml-6":"",children:"Words"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({mode:"quote"})),children:["quote"===o&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"quote"!==o?"ml-6":"",children:"Quote"})]})]}),(0,r.jsx)(p,{}),(0,r.jsx)(x,{heading:"Game Controls",children:(0,r.jsx)(f,{onSelect:()=>w(()=>n()),children:(0,r.jsx)("span",{children:"Reset Game"})})}),"time"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{}),(0,r.jsxs)(x,{heading:"Duration",children:[(0,r.jsxs)(f,{onSelect:()=>w(()=>s({duration:15})),children:[15===i&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:15!==i?"ml-6":"",children:"15 seconds"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({duration:30})),children:[30===i&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:30!==i?"ml-6":"",children:"30 seconds"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({duration:60})),children:[60===i&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:60!==i?"ml-6":"",children:"60 seconds"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({duration:120})),children:[120===i&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:120!==i?"ml-6":"",children:"120 seconds"})]})]})]}),"words"===o&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p,{}),(0,r.jsxs)(x,{heading:"Word Count",children:[(0,r.jsxs)(f,{onSelect:()=>w(()=>s({wordCount:10})),children:[10===l&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:10!==l?"ml-6":"",children:"10 words"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({wordCount:25})),children:[25===l&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:25!==l?"ml-6":"",children:"25 words"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({wordCount:50})),children:[50===l&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:50!==l?"ml-6":"",children:"50 words"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({wordCount:100})),children:[100===l&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:100!==l?"ml-6":"",children:"100 words"})]})]})]}),(0,r.jsx)(p,{}),(0,r.jsxs)(x,{heading:"Difficulty",children:[(0,r.jsxs)(f,{onSelect:()=>w(()=>s({difficulty:"Normal"})),children:["Normal"===c&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"Normal"!==c?"ml-6":"",children:"Normal Mode"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({difficulty:"Expert"})),children:["Expert"===c&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"Expert"!==c?"ml-6":"",children:"Expert Mode"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({difficulty:"Master"})),children:["Master"===c&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"Master"!==c?"ml-6":"",children:"Master Mode"})]})]}),(0,r.jsx)(p,{}),(0,r.jsxs)(x,{heading:"Word List",children:[(0,r.jsxs)(f,{onSelect:()=>w(()=>s({textSource:"english-1k"})),children:["english-1k"===v&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"english-1k"!==v?"ml-6":"",children:"English 1k"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({textSource:"javascript"})),children:["javascript"===v&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"javascript"!==v?"ml-6":"",children:"JavaScript"})]}),(0,r.jsxs)(f,{onSelect:()=>w(()=>s({textSource:"python"})),children:["python"===v&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:"python"!==v?"ml-6":"",children:"Python"})]})]}),(0,r.jsx)(p,{}),(0,r.jsx)(x,{heading:"Modifiers",children:(0,r.jsxs)(f,{onSelect:()=>w(()=>s({punctuation:!y})),children:[y&&(0,r.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{className:y?"":"ml-6",children:"Punctuation"})]})})]})]})}},3928:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var r=s(2987),a=s(607);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,r.$)(t))}},4522:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o});var r=s(4568),a=s(7620),n=s(7567);function o(e){let{children:t}=e,{initializeAuth:s}=(0,n.n)();return(0,a.useEffect)(()=>{s()},[s]),(0,r.jsx)(r.Fragment,{children:t})}},5140:(e,t,s)=>{"use strict";s.d(t,{AuthModal:()=>z});var r=s(4568),a=s(7620),n=s(1938),o=s(6993),i=s(8072),l=s(8359),c=s(2127),d=s(3928);let u=c.bL,m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.B8,{ref:t,className:(0,d.cn)("bg-muted text-muted-foreground inline-flex h-10 items-center justify-center rounded-md p-1",s),...a})});m.displayName=c.B8.displayName;let h=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.l9,{ref:t,className:(0,d.cn)("ring-offset-background focus-visible:ring-ring data-[state=active]:bg-background data-[state=active]:text-foreground inline-flex items-center justify-center rounded-sm px-3 py-1.5 text-sm font-medium whitespace-nowrap transition-all focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm",s),...a})});h.displayName=c.l9.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(c.UC,{ref:t,className:(0,d.cn)("ring-offset-background focus-visible:ring-ring mt-2 focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:outline-none",s),...a})});x.displayName=c.UC.displayName;var p=s(9649),f=s(2555);let g=n.Op,j=a.createContext({}),v=e=>{let{...t}=e;return(0,r.jsx)(j.Provider,{value:{name:t.name},children:(0,r.jsx)(n.xI,{...t})})},y=()=>{let e=a.useContext(j),t=a.useContext(w),{getFieldState:s}=(0,n.xW)(),r=(0,n.lN)({name:e.name}),o=s(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},w=a.createContext({});function b(e){let{className:t,...s}=e,n=a.useId();return(0,r.jsx)(w.Provider,{value:{id:n},children:(0,r.jsx)("div",{"data-slot":"form-item",className:(0,d.cn)("grid gap-2",t),...s})})}function N(e){let{className:t,...s}=e,{error:a,formItemId:n}=y();return(0,r.jsx)(f.J,{"data-slot":"form-label","data-error":!!a,className:(0,d.cn)("data-[error=true]:text-destructive",t),htmlFor:n,...s})}function S(e){let{...t}=e,{error:s,formItemId:a,formDescriptionId:n,formMessageId:o}=y();return(0,r.jsx)(p.DX,{"data-slot":"form-control",id:a,"aria-describedby":s?"".concat(n," ").concat(o):"".concat(n),"aria-invalid":!!s,...t})}function k(e){var t;let{className:s,...a}=e,{error:n,formMessageId:o}=y(),i=n?String(null!=(t=null==n?void 0:n.message)?t:""):a.children;return i?(0,r.jsx)("p",{"data-slot":"form-message",id:o,className:(0,d.cn)("text-destructive text-sm",s),...a,children:i}):null}var C=s(5165),A=s(7227),_=s(6218),T=s(7567),P=s(9879),E=s(1874);let M=i.Ik({email:i.Yj().email("Please enter a valid email address"),password:i.Yj().min(6,"Password must be at least 6 characters")});function z(){let{isAuthModalOpen:e,closeAuthModal:t}=(0,_.K)(),{login:s}=(0,T.n)(),a=(0,n.mN)({resolver:(0,o.u)(M),defaultValues:{email:"",password:""}}),i=(0,n.mN)({resolver:(0,o.u)(M),defaultValues:{email:"",password:""}}),c=async e=>{try{let r=await (0,P.Lx)(e);E.o.success("Login successful!"),s(r.user,r.token),t(),a.reset();try{let e=await (0,P.zW)(r.token);e&&E.o.success("Synced ".concat(e.count," test results to your account"))}catch(e){console.error("History sync error:",e),E.o.error("Failed to sync test history, but login was successful")}}catch(t){let e=t instanceof Error?t.message:"Login failed";E.o.error(e),console.error("Login error:",t)}},d=async e=>{try{let r=await (0,P.DY)(e);E.o.success("Registration successful!"),s(r.user,r.token),t(),i.reset();try{let e=await (0,P.zW)(r.token);e&&E.o.success("Synced ".concat(e.count," test results to your account"))}catch(e){console.error("History sync error:",e),E.o.error("Failed to sync test history, but registration was successful")}}catch(t){let e=t instanceof Error?t.message:"Registration failed";E.o.error(e),console.error("Registration error:",t)}};return(0,r.jsx)(l.lG,{open:e,onOpenChange:t,children:(0,r.jsxs)(l.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsx)(l.c7,{children:(0,r.jsx)(l.L3,{children:"Welcome to TypeAmp"})}),(0,r.jsxs)(u,{defaultValue:"login",className:"w-full",children:[(0,r.jsxs)(m,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(h,{value:"login",children:"Login"}),(0,r.jsx)(h,{value:"register",children:"Register"})]}),(0,r.jsx)(x,{value:"login",className:"space-y-4",children:(0,r.jsx)(g,{...a,children:(0,r.jsxs)("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[(0,r.jsx)(v,{control:a.control,name:"email",render:e=>{let{field:t}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(N,{children:"Email"}),(0,r.jsx)(S,{children:(0,r.jsx)(C.p,{type:"email",placeholder:"Enter your email",...t})}),(0,r.jsx)(k,{})]})}}),(0,r.jsx)(v,{control:a.control,name:"password",render:e=>{let{field:t}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(N,{children:"Password"}),(0,r.jsx)(S,{children:(0,r.jsx)(C.p,{type:"password",placeholder:"Enter your password",...t})}),(0,r.jsx)(k,{})]})}}),(0,r.jsx)(A.$,{type:"submit",className:"w-full",children:"Sign In"})]})})}),(0,r.jsx)(x,{value:"register",className:"space-y-4",children:(0,r.jsx)(g,{...i,children:(0,r.jsxs)("form",{onSubmit:i.handleSubmit(d),className:"space-y-4",children:[(0,r.jsx)(v,{control:i.control,name:"email",render:e=>{let{field:t}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(N,{children:"Email"}),(0,r.jsx)(S,{children:(0,r.jsx)(C.p,{type:"email",placeholder:"Enter your email",...t})}),(0,r.jsx)(k,{})]})}}),(0,r.jsx)(v,{control:i.control,name:"password",render:e=>{let{field:t}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(N,{children:"Password"}),(0,r.jsx)(S,{children:(0,r.jsx)(C.p,{type:"password",placeholder:"Create a password (min. 6 characters)",...t})}),(0,r.jsx)(k,{})]})}}),(0,r.jsx)(A.$,{type:"submit",className:"w-full",children:"Create Account"})]})})})]})]})})}},5165:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var r=s(4568);s(7620);var a=s(3928);function n(e){let{className:t,type:s,...n}=e;return(0,r.jsx)("input",{type:s,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},6218:(e,t,s)=>{"use strict";s.d(t,{K:()=>r});let r=(0,s(1326).v)(e=>({isAuthModalOpen:!1,openAuthModal:()=>e({isAuthModalOpen:!0}),closeAuthModal:()=>e({isAuthModalOpen:!1})}))},7179:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(1326),a=s(7649);let n={mode:"time",duration:60,wordCount:50,difficulty:"Normal",textSource:"english-1k",punctuation:!1},o={wpm:0,accuracy:0,startTime:0,totalChars:0,correctChars:0,incorrectChars:0,elapsedTime:0},i="the quick brown fox jumps over the lazy dog",l=(0,r.v)((e,t)=>({testConfig:n,textToType:i,charStates:i.split("").map(e=>({char:e,status:"default"})),userInput:"",gameStatus:"ready",stats:o,setTestConfig:t=>e(e=>({testConfig:{...e.testConfig,...t}})),setTextToType:t=>e(()=>({textToType:t,charStates:t.split("").map(e=>({char:e,status:"default"})),userInput:"",gameStatus:"ready"})),handleKeyPress:s=>e(r=>{let{gameStatus:a,userInput:n,textToType:o,testConfig:i}=r;if("ready"===a&&e({gameStatus:"running",stats:{...r.stats,startTime:Date.now()}}),"Backspace"===s){if(0===n.length)return{};let e=n.slice(0,-1),s=[...r.charStates];return s[n.length-1]&&(s[n.length-1].status="default"),s[e.length]&&(s[e.length].status="current"),t().updateStats(),{userInput:e,charStates:s}}if(1===s.length&&n.length<o.length){let e=n.length,a=o[e],l=s===a;if("Master"===i.difficulty&&!l)return t().completeGame(),{};let c=n+s,d=[...r.charStates];return d[e]={char:a,status:l?"correct":"incorrect",timestamp:Date.now()},d[e+1]&&(d[e+1].status="current"),setTimeout(()=>{t().updateStats(),c.length>=o.length&&t().completeGame()},0),{userInput:c,charStates:d}}return{}}),startGame:()=>e(()=>({gameStatus:"running",stats:{...t().stats,startTime:Date.now()}})),pauseGame:()=>e(()=>({gameStatus:"ready"})),resetGame:()=>e(()=>{let{textToType:e}=t();return{userInput:"",gameStatus:"ready",stats:o,charStates:e.split("").map((e,t)=>({char:e,status:0===t?"current":"default"}))}}),completeGame:()=>e(()=>{let e=Date.now(),s=t(),r={...s.stats,endTime:e,elapsedTime:e-s.stats.startTime},n={id:"test-".concat(e,"-").concat(Math.random().toString(36).substr(2,9)),timestamp:e,mode:s.testConfig.mode,duration:"time"===s.testConfig.mode?s.testConfig.duration:void 0,wordCount:"words"===s.testConfig.mode?s.testConfig.wordCount:void 0,textSource:s.testConfig.textSource,difficulty:s.testConfig.difficulty,punctuation:s.testConfig.punctuation,wpm:r.wpm,accuracy:r.accuracy,totalChars:r.totalChars,correctChars:r.correctChars,incorrectChars:r.incorrectChars};return(0,a.pO)(n),{gameStatus:"finished",stats:r}}),updateStats:()=>e(e=>{let{userInput:t,textToType:s,stats:r}=e,a=Date.now()-r.startTime,n=a/6e4,o=t.split("").filter((e,t)=>e===s[t]).length,i=t.length-o,l=t.length,c=n>0?Math.round(o/5/n):0,d=l>0?Math.round(o/l*100):100;return{stats:{...r,wpm:c,accuracy:d,totalChars:l,correctChars:o,incorrectChars:i,elapsedTime:a}}})}))},7227:(e,t,s)=>{"use strict";s.d(t,{$:()=>l});var r=s(4568);s(7620);var a=s(9649),n=s(615),o=s(3928);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:n,asChild:l=!1,...c}=e,d=l?a.DX:"button";return(0,r.jsx)(d,{"data-slot":"button",className:(0,o.cn)(i({variant:s,size:n,className:t})),...c})}},7567:(e,t,s)=>{"use strict";s.d(t,{n:()=>n});var r=s(1326);let a="typeamp_token",n=(0,r.v)(e=>({user:null,token:null,login:(t,s)=>{localStorage.setItem(a,s),e({user:t,token:s})},logout:()=>{localStorage.removeItem(a),e({user:null,token:null})},initializeAuth:()=>{let t=localStorage.getItem(a);t&&e({token:t})}}))},7649:(e,t,s)=>{"use strict";s.d(t,{$u:()=>c,Hz:()=>l,XA:()=>d,XP:()=>a,_J:()=>o,od:()=>i,pO:()=>n});let r="typeamp-data";function a(){try{let e=localStorage.getItem(r);if(!e)return[];let t=JSON.parse(e);if(!t.testHistory||!Array.isArray(t.testHistory))return[];return t.testHistory}catch(e){return console.error("Error retrieving test history:",e),[]}}function n(e){try{let t=a(),s={testHistory:[e,...t].slice(0,100),lastUpdated:Date.now()};localStorage.setItem(r,JSON.stringify(s))}catch(e){console.error("Error saving test result:",e)}}function o(){try{localStorage.removeItem(r)}catch(e){console.error("Error clearing test history:",e)}}function i(e){return 0===e.length?0:Math.round(e.reduce((e,t)=>e+t.wpm,0)/e.length)}function l(e){return 0===e.length?0:Math.max(...e.map(e=>e.wpm))}function c(e){return 0===e.length?0:Math.round(e.reduce((e,t)=>e+t.accuracy,0)/e.length)}function d(e){return e.length}},8240:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,7261,23)),Promise.resolve().then(s.t.bind(s,6753,23)),Promise.resolve().then(s.t.bind(s,9385,23)),Promise.resolve().then(s.bind(s,1874)),Promise.resolve().then(s.t.bind(s,3139,23)),Promise.resolve().then(s.bind(s,5140)),Promise.resolve().then(s.bind(s,3515)),Promise.resolve().then(s.bind(s,9440)),Promise.resolve().then(s.bind(s,4522))},8359:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>d,L3:()=>m,c7:()=>u,lG:()=>i,rr:()=>h});var r=s(4568);s(7620);var a=s(5173),n=s(2463),o=s(3928);function i(e){let{...t}=e;return(0,r.jsx)(a.bL,{"data-slot":"dialog",...t})}function l(e){let{...t}=e;return(0,r.jsx)(a.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...s}=e;return(0,r.jsx)(a.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function d(e){let{className:t,children:s,showCloseButton:i=!0,...d}=e;return(0,r.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,r.jsx)(c,{}),(0,r.jsxs)(a.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...d,children:[s,i&&(0,r.jsxs)(a.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...s}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function m(e){let{className:t,...s}=e;return(0,r.jsx)(a.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...s})}function h(e){let{className:t,...s}=e;return(0,r.jsx)(a.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...s})}},9440:(e,t,s)=>{"use strict";s.d(t,{Header:()=>x});var r=s(4568);s(7620);var a=s(7261),n=s.n(a),o=s(731),i=s(9594),l=s(368),c=s(5865),d=s(4508),u=s(7227),m=s(6218),h=s(7567);function x(){let{openAuthModal:e}=(0,m.K)(),{user:t,logout:s}=(0,h.n)();return(0,r.jsxs)("header",{className:"bg-background flex items-center justify-between border-b px-6 py-4",children:[(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsx)(n(),{href:"/",className:"text-xl font-bold",children:"TypeAmp"})}),(0,r.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,r.jsxs)(n(),{href:"/",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Home"})]}),(0,r.jsxs)(n(),{href:"/profile",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(i.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Profile"})]}),(0,r.jsxs)(n(),{href:"/stats",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(l.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Stats"})]}),(0,r.jsxs)(n(),{href:"/learn",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Learn"})]}),(0,r.jsxs)(n(),{href:"/settings",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,r.jsx)(d.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Settings"})]})]}),t?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("span",{className:"text-muted-foreground text-sm",children:t.email}),(0,r.jsx)(u.$,{variant:"outline",onClick:s,children:"Logout"})]}):(0,r.jsx)(u.$,{variant:"outline",onClick:e,children:"Login"})]})}},9879:(e,t,s)=>{"use strict";s.d(t,{DY:()=>o,GO:()=>c,Lx:()=>i,zW:()=>l});var r=s(7649);let a="http://localhost:3001";class n{async makeRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(a).concat(e),r={headers:{"Content-Type":"application/json",...t.headers},...t},n=await fetch(s,r),o=await n.json();if(!n.ok)throw Error(o.error||"An error occurred");return o}async registerUser(e){return this.makeRequest("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async loginUser(e){return this.makeRequest("/api/auth/login",{method:"POST",body:JSON.stringify(e)})}async syncLocalHistory(e){let t=(0,r.XP)();if(0===t.length)return null;let s=t.map(e=>({wpm:e.wpm,accuracy:e.accuracy,rawWpm:e.wpm,consistency:null,config:{mode:e.mode,duration:e.duration,wordCount:e.wordCount,textSource:e.textSource,difficulty:e.difficulty,punctuation:e.punctuation},tags:[],timestamp:new Date(e.timestamp).toISOString()})),a=await this.makeRequest("/api/me/tests/bulk",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify({testResults:s})});return(0,r._J)(),a}}let{registerUser:o,loginUser:i,syncLocalHistory:l}=new n;async function c(e,t){let s=await fetch("".concat(a).concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});if(!s.ok){let e=await s.json(),t=Error("An error occurred while fetching the data.");throw t.info=e,t.status=s.status,t}return s.json()}}},e=>{var t=t=>e(e.s=t);e.O(0,[318,290,577,660,561,587,315,358],()=>t(8240)),_N_E=e.O()}]);