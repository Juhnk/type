(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4522:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o});var a=s(54568),n=s(7620),r=s(57567);function o(e){let{children:t}=e,{initializeAuth:s}=(0,r.n)();return(0,n.useEffect)(()=>{s()},[s]),(0,a.jsx)(a.Fragment,{children:t})}},13649:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,27261,23)),Promise.resolve().then(s.t.bind(s,36753,23)),Promise.resolve().then(s.t.bind(s,79385,23)),Promise.resolve().then(s.bind(s,51874)),Promise.resolve().then(s.t.bind(s,73139,23)),Promise.resolve().then(s.bind(s,50852)),Promise.resolve().then(s.bind(s,40989)),Promise.resolve().then(s.bind(s,49440)),Promise.resolve().then(s.bind(s,4522)),Promise.resolve().then(s.bind(s,64905)),Promise.resolve().then(s.t.bind(s,23244,23))},23244:()=>{},28359:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>d,L3:()=>u,c7:()=>m,lG:()=>i,rr:()=>x});var a=s(54568);s(7620);var n=s(25173),r=s(12463),o=s(93928);function i(e){let{...t}=e;return(0,a.jsx)(n.bL,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(n.ZL,{"data-slot":"dialog-portal",...t})}function l(e){let{className:t,...s}=e;return(0,a.jsx)(n.hJ,{"data-slot":"dialog-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function d(e){let{className:t,children:s,showCloseButton:i=!0,...d}=e;return(0,a.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,a.jsx)(l,{}),(0,a.jsxs)(n.UC,{"data-slot":"dialog-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...d,children:[s,i&&(0,a.jsxs)(n.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,o.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(n.hE,{"data-slot":"dialog-title",className:(0,o.cn)("text-lg leading-none font-semibold",t),...s})}function x(e){let{className:t,...s}=e;return(0,a.jsx)(n.VY,{"data-slot":"dialog-description",className:(0,o.cn)("text-muted-foreground text-sm",t),...s})}},40989:(e,t,s)=>{"use strict";s.d(t,{EnhancedCommandPalette:()=>D});var a=s(54568),n=s(7620),r=s(44491),o=s(15173),i=s(93928),c=s(28359);function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.uB,{"data-slot":"command",className:(0,i.cn)("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...s})}function d(e){let{title:t="Command Palette",description:s="Search for a command to run...",children:n,className:r,showCloseButton:o=!0,...d}=e;return(0,a.jsxs)(c.lG,{...d,children:[(0,a.jsxs)(c.c7,{className:"sr-only",children:[(0,a.jsx)(c.L3,{children:t}),(0,a.jsx)(c.rr,{children:s})]}),(0,a.jsx)(c.Cf,{className:(0,i.cn)("overflow-hidden p-0",r),showCloseButton:o,children:(0,a.jsx)(l,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:n})})]})}function m(e){let{className:t,...s}=e;return(0,a.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[(0,a.jsx)(o.A,{className:"size-4 shrink-0 opacity-50"}),(0,a.jsx)(r.uB.Input,{"data-slot":"command-input",className:(0,i.cn)("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...s})]})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(r.uB.List,{"data-slot":"command-list",className:(0,i.cn)("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...s})}function x(e){let{...t}=e;return(0,a.jsx)(r.uB.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function h(e){let{className:t,...s}=e;return(0,a.jsx)(r.uB.Group,{"data-slot":"command-group",className:(0,i.cn)("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(r.uB.Separator,{"data-slot":"command-separator",className:(0,i.cn)("bg-border -mx-1 h-px",t),...s})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(r.uB.Item,{"data-slot":"command-item",className:(0,i.cn)("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsx)("span",{"data-slot":"command-shortcut",className:(0,i.cn)("text-muted-foreground ml-auto text-xs tracking-widest",t),...s})}var j=s(47629),v=s(39513),w=s(20853),y=s(13643),N=s(72482),b=s(78864),k=s(51778),A=s(39690),C=s(93425),E=s(48976),S=s(60269),_=s(4931),L=s(49369),P=s(37469),z=s(24508),M=s(51874);function D(){let[e,t]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),[o,c]=(0,n.useState)(""),{setTestConfig:l,resetGame:D,gameStatus:K,isPreparingGame:F,testConfig:{mode:T,duration:I,wordCount:O,difficulty:W,textSource:B,punctuation:R}}=(0,j.T)(),[q,G]=(0,n.useState)([]);(0,n.useEffect)(()=>{let e=localStorage.getItem("typeamp-recent-configs");e&&G(JSON.parse(e))},[]);let J=(0,n.useCallback)(async function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],a=arguments.length>2?arguments[2]:void 0;("running"!==K||window.confirm("Changing settings will reset your current game. Continue?"))&&(r(!0),t(!1),e(),s&&M.o.success(a||"Configuration updated",{description:"New game prepared with updated settings",duration:2e3}),setTimeout(()=>{r(!1)},300))},[K]);(0,n.useEffect)(()=>{let s=s=>{if((s.ctrlKey||s.metaKey)&&"k"===s.key&&(s.preventDefault(),t(e=>!e)),e){if("Escape"===s.key){s.preventDefault(),t(!1);return}if("time"===T&&!s.ctrlKey&&!s.metaKey&&!s.altKey){let e={1:15,2:30,3:60,4:120};e[s.key]&&(s.preventDefault(),J(()=>l({duration:e[s.key]})))}if(!s.ctrlKey&&!s.metaKey&&!s.altKey)switch(s.key.toLowerCase()){case"t":""===o&&(s.preventDefault(),J(()=>l({mode:"time"})));break;case"w":""===o&&(s.preventDefault(),J(()=>l({mode:"words"})));break;case"q":""===o&&(s.preventDefault(),J(()=>l({mode:"quote"})));break;case"r":""===o&&(s.preventDefault(),J(()=>D(),!1));break;case"p":""===o&&(s.preventDefault(),J(()=>l({punctuation:!R})))}}};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,T,R,o,J,D,l]);let V=(0,n.useMemo)(()=>{let e=[{id:"mode-time",label:"Time Mode",icon:(0,a.jsx)(v.A,{className:"h-4 w-4"}),shortcut:"T",action:()=>l({mode:"time"}),isActive:"time"===T,description:"Type for a set duration"},{id:"mode-words",label:"Words Mode",icon:(0,a.jsx)(w.A,{className:"h-4 w-4"}),shortcut:"W",action:()=>l({mode:"words"}),isActive:"words"===T,description:"Type a specific number of words"},{id:"mode-quote",label:"Quote Mode",icon:(0,a.jsx)(y.A,{className:"h-4 w-4"}),shortcut:"Q",action:()=>l({mode:"quote"}),isActive:"quote"===T,description:"Type a custom quote or text"}],t="time"===T?[{id:"duration-15",label:"15 seconds",icon:(0,a.jsx)(N.A,{className:"h-4 w-4"}),shortcut:"1",action:()=>l({duration:15}),isActive:15===I},{id:"duration-30",label:"30 seconds",icon:(0,a.jsx)(N.A,{className:"h-4 w-4"}),shortcut:"2",action:()=>l({duration:30}),isActive:30===I},{id:"duration-60",label:"60 seconds",icon:(0,a.jsx)(N.A,{className:"h-4 w-4"}),shortcut:"3",action:()=>l({duration:60}),isActive:60===I},{id:"duration-120",label:"120 seconds",icon:(0,a.jsx)(N.A,{className:"h-4 w-4"}),shortcut:"4",action:()=>l({duration:120}),isActive:120===I}]:[],s="words"===T?[{id:"words-10",label:"10 words",icon:(0,a.jsx)(w.A,{className:"h-4 w-4"}),shortcut:"1",action:()=>l({wordCount:10}),isActive:10===O},{id:"words-25",label:"25 words",icon:(0,a.jsx)(w.A,{className:"h-4 w-4"}),shortcut:"2",action:()=>l({wordCount:25}),isActive:25===O},{id:"words-50",label:"50 words",icon:(0,a.jsx)(w.A,{className:"h-4 w-4"}),shortcut:"3",action:()=>l({wordCount:50}),isActive:50===O},{id:"words-100",label:"100 words",icon:(0,a.jsx)(w.A,{className:"h-4 w-4"}),shortcut:"4",action:()=>l({wordCount:100}),isActive:100===O}]:[],n=[{id:"difficulty-normal",label:"Normal Mode",icon:(0,a.jsx)(b.A,{className:"h-4 w-4"}),action:()=>l({difficulty:"Normal"}),isActive:"Normal"===W,description:"Standard typing experience"},{id:"difficulty-expert",label:"Expert Mode",icon:(0,a.jsx)(k.A,{className:"h-4 w-4"}),action:()=>l({difficulty:"Expert"}),isActive:"Expert"===W,description:"No errors allowed per word"},{id:"difficulty-master",label:"Master Mode",icon:(0,a.jsx)(A.A,{className:"h-4 w-4"}),action:()=>l({difficulty:"Master"}),isActive:"Master"===W,description:"One mistake ends the test"}];return{modeCommands:e,durationCommands:t,wordCountCommands:s,difficultyCommands:n,wordListCommands:[{id:"list-english1k",label:"English 1K",icon:(0,a.jsx)(C.A,{className:"h-4 w-4"}),action:()=>l({textSource:"english1k"}),isActive:"english1k"===B,description:"Top 1000 English words"},{id:"list-english10k",label:"English 10K",icon:(0,a.jsx)(C.A,{className:"h-4 w-4"}),action:()=>l({textSource:"english10k"}),isActive:"english10k"===B,description:"Top 10000 English words"},{id:"list-javascript",label:"JavaScript",icon:(0,a.jsx)(E.A,{className:"h-4 w-4"}),action:()=>l({textSource:"javascript"}),isActive:"javascript"===B,description:"JavaScript keywords and syntax"},{id:"list-python",label:"Python",icon:(0,a.jsx)(E.A,{className:"h-4 w-4"}),action:()=>l({textSource:"python"}),isActive:"python"===B,description:"Python keywords and syntax"}],modifierCommands:[{id:"toggle-punctuation",label:"Punctuation & Numbers",icon:(0,a.jsx)(S.A,{className:"h-4 w-4"}),shortcut:"P",action:()=>l({punctuation:!R}),isActive:R,description:"Add punctuation and numbers to text"}]}},[T,I,O,W,B,R,l]),H=(e,t)=>t?e.filter(e=>{var s;return e.label.toLowerCase().includes(t.toLowerCase())||(null==(s=e.description)?void 0:s.toLowerCase().includes(t.toLowerCase()))}):e,Y=e=>(0,a.jsxs)(f,{value:e.label,onSelect:()=>J(e.action,!0,"".concat(e.label," activated")),className:"flex cursor-pointer items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,i.cn)("transition-all",e.isActive?"text-primary":"opacity-50"),children:e.isActive?(0,a.jsx)(_.A,{className:"h-4 w-4"}):e.icon}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.label}),e.description&&(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:e.description})]})]}),e.shortcut&&(0,a.jsx)(g,{children:e.shortcut})]},e.id);return(0,a.jsxs)(a.Fragment,{children:[(s||F)&&(0,a.jsx)("div",{className:"bg-background/80 fixed inset-0 z-50 flex items-center justify-center backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,a.jsx)(L.A,{className:"text-primary h-8 w-8 animate-spin"}),(0,a.jsx)("p",{className:"text-muted-foreground animate-pulse text-sm",children:"Preparing new game..."})]})}),(0,a.jsxs)(d,{open:e,onOpenChange:t,children:[(0,a.jsx)(m,{placeholder:"Search commands...",value:o,onValueChange:c}),(0,a.jsxs)(u,{children:[(0,a.jsx)(x,{children:"No commands found."}),(0,a.jsxs)(h,{heading:"Quick Actions",children:[(0,a.jsxs)(f,{value:"reset",onSelect:()=>J(()=>D(),!1),className:"flex cursor-pointer items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(P.A,{className:"h-4 w-4"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Reset Current Game"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:"Start over with current settings"})]})]}),(0,a.jsx)(g,{children:"R"})]}),q.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{className:"my-2"}),(0,a.jsx)("div",{className:"text-muted-foreground px-2 py-1.5 text-xs font-medium",children:"Recent"}),q.slice(0,3).map((e,t)=>(0,a.jsxs)(f,{value:"recent-".concat(e.label),onSelect:()=>J(()=>{Object.entries(e.config).forEach(e=>{let[t,s]=e;l({[t]:s})})},!0,"Loaded: ".concat(e.label)),className:"flex cursor-pointer items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(z.A,{className:"h-4 w-4 opacity-50"}),(0,a.jsx)("div",{className:"text-sm",children:e.label})]}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:new Date(e.timestamp).toLocaleDateString()})]},"recent-".concat(t)))]})]}),(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Game Mode",children:H(V.modeCommands,o).map(Y)}),"time"===T&&V.durationCommands.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Time Duration",children:H(V.durationCommands,o).map(Y)})]}),"words"===T&&V.wordCountCommands.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Word Count",children:H(V.wordCountCommands,o).map(Y)})]}),(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Difficulty",children:H(V.difficultyCommands,o).map(Y)}),(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Word Lists",children:H(V.wordListCommands,o).map(Y)}),(0,a.jsx)(p,{}),(0,a.jsx)(h,{heading:"Modifiers",children:H(V.modifierCommands,o).map(Y)}),(0,a.jsx)("div",{className:"text-muted-foreground border-t px-3 py-2 text-xs",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["Press ",(0,a.jsx)("kbd",{className:"bg-muted rounded px-1",children:"Ctrl+K"})," to toggle"]}),(0,a.jsxs)("span",{children:["Use ",(0,a.jsx)("kbd",{className:"bg-muted rounded px-1",children:"↑↓"})," to navigate"]})]})})]})]})]})}},46218:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});let a=(0,s(91326).v)(e=>({isAuthModalOpen:!1,openAuthModal:()=>e({isAuthModalOpen:!0}),closeAuthModal:()=>e({isAuthModalOpen:!1})}))},49440:(e,t,s)=>{"use strict";s.d(t,{Header:()=>h});var a=s(54568);s(7620);var n=s(27261),r=s.n(n),o=s(40731),i=s(19594),c=s(40368),l=s(65865),d=s(24508),m=s(47227),u=s(46218),x=s(57567);function h(){let{openAuthModal:e}=(0,u.K)(),{user:t,logout:s}=(0,x.n)();return(0,a.jsxs)("header",{className:"bg-background flex items-center justify-between border-b px-6 py-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(r(),{href:"/",className:"text-xl font-bold",children:"TypeAmp"})}),(0,a.jsxs)("nav",{className:"flex items-center space-x-6",children:[(0,a.jsxs)(r(),{href:"/",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Home"})]}),(0,a.jsxs)(r(),{href:"/profile",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Profile"})]}),(0,a.jsxs)(r(),{href:"/stats",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Stats"})]}),(0,a.jsxs)(r(),{href:"/learn",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Learn"})]}),(0,a.jsxs)(r(),{href:"/customize",className:"text-muted-foreground hover:text-foreground flex items-center space-x-2 transition-colors",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Customize"})]})]}),t?(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:t.email}),(0,a.jsx)(m.$,{variant:"outline",onClick:s,children:"Logout"})]}):(0,a.jsx)(m.$,{variant:"outline",onClick:e,children:"Login"})]})}},50852:(e,t,s)=>{"use strict";s.d(t,{AuthModal:()=>_});var a=s(54568),n=s(7620),r=s(61938),o=s(86993),i=s(68072),c=s(28359),l=s(80603),d=s(79649),m=s(93928),u=s(92555);let x=r.Op,h=n.createContext({}),p=e=>{let{...t}=e;return(0,a.jsx)(h.Provider,{value:{name:t.name},children:(0,a.jsx)(r.xI,{...t})})},f=()=>{let e=n.useContext(h),t=n.useContext(g),{getFieldState:s}=(0,r.xW)(),a=(0,r.lN)({name:e.name}),o=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},g=n.createContext({});function j(e){let{className:t,...s}=e,r=n.useId();return(0,a.jsx)(g.Provider,{value:{id:r},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,m.cn)("grid gap-2",t),...s})})}function v(e){let{className:t,...s}=e,{error:n,formItemId:r}=f();return(0,a.jsx)(u.J,{"data-slot":"form-label","data-error":!!n,className:(0,m.cn)("data-[error=true]:text-destructive",t),htmlFor:r,...s})}function w(e){let{...t}=e,{error:s,formItemId:n,formDescriptionId:r,formMessageId:o}=f();return(0,a.jsx)(d.DX,{"data-slot":"form-control",id:n,"aria-describedby":s?"".concat(r," ").concat(o):"".concat(r),"aria-invalid":!!s,...t})}function y(e){var t;let{className:s,...n}=e,{error:r,formMessageId:o}=f(),i=r?String(null!=(t=null==r?void 0:r.message)?t:""):n.children;return i?(0,a.jsx)("p",{"data-slot":"form-message",id:o,className:(0,m.cn)("text-destructive text-sm",s),...n,children:i}):null}var N=s(65165),b=s(47227),k=s(46218),A=s(57567),C=s(39879),E=s(51874);let S=i.Ik({email:i.Yj().email("Please enter a valid email address"),password:i.Yj().min(6,"Password must be at least 6 characters")});function _(){let{isAuthModalOpen:e,closeAuthModal:t}=(0,k.K)(),{login:s}=(0,A.n)(),n=(0,r.mN)({resolver:(0,o.u)(S),defaultValues:{email:"",password:""}}),i=(0,r.mN)({resolver:(0,o.u)(S),defaultValues:{email:"",password:""}}),d=async e=>{try{let a=await (0,C.Lx)({email:e.email,password:e.password});E.o.success("Login successful!"),s(a.user,a.token),t(),n.reset();try{let e=await (0,C.zW)(a.token);e&&E.o.success("Synced ".concat(e.count," test results to your account"))}catch(e){console.error("History sync error:",e),E.o.error("Failed to sync test history, but login was successful")}}catch(t){let e=t instanceof Error?t.message:"Login failed";E.o.error(e),console.error("Login error:",t)}},m=async e=>{try{let a=await (0,C.DY)({email:e.email,password:e.password});E.o.success("Registration successful!"),s(a.user,a.token),t(),i.reset();try{let e=await (0,C.zW)(a.token);e&&E.o.success("Synced ".concat(e.count," test results to your account"))}catch(e){console.error("History sync error:",e),E.o.error("Failed to sync test history, but registration was successful")}}catch(t){let e=t instanceof Error?t.message:"Registration failed";E.o.error(e),console.error("Registration error:",t)}};return(0,a.jsx)(c.lG,{open:e,onOpenChange:t,children:(0,a.jsxs)(c.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsx)(c.c7,{children:(0,a.jsx)(c.L3,{children:"Welcome to TypeAmp"})}),(0,a.jsxs)(l.tU,{defaultValue:"login",className:"w-full",children:[(0,a.jsxs)(l.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(l.Xi,{value:"login",children:"Login"}),(0,a.jsx)(l.Xi,{value:"register",children:"Register"})]}),(0,a.jsx)(l.av,{value:"login",className:"space-y-4",children:(0,a.jsx)(x,{...n,children:(0,a.jsxs)("form",{onSubmit:n.handleSubmit(d),className:"space-y-4",children:[(0,a.jsx)(p,{control:n.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Email"}),(0,a.jsx)(w,{children:(0,a.jsx)(N.p,{type:"email",placeholder:"Enter your email",...t})}),(0,a.jsx)(y,{})]})}}),(0,a.jsx)(p,{control:n.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Password"}),(0,a.jsx)(w,{children:(0,a.jsx)(N.p,{type:"password",placeholder:"Enter your password",...t})}),(0,a.jsx)(y,{})]})}}),(0,a.jsx)(b.$,{type:"submit",className:"w-full",children:"Sign In"})]})})}),(0,a.jsx)(l.av,{value:"register",className:"space-y-4",children:(0,a.jsx)(x,{...i,children:(0,a.jsxs)("form",{onSubmit:i.handleSubmit(m),className:"space-y-4",children:[(0,a.jsx)(p,{control:i.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Email"}),(0,a.jsx)(w,{children:(0,a.jsx)(N.p,{type:"email",placeholder:"Enter your email",...t})}),(0,a.jsx)(y,{})]})}}),(0,a.jsx)(p,{control:i.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(j,{children:[(0,a.jsx)(v,{children:"Password"}),(0,a.jsx)(w,{children:(0,a.jsx)(N.p,{type:"password",placeholder:"Create a password (min. 6 characters)",...t})}),(0,a.jsx)(y,{})]})}}),(0,a.jsx)(b.$,{type:"submit",className:"w-full",children:"Create Account"})]})})})]})]})})}},64905:(e,t,s)=>{"use strict";s.d(t,{SettingsProvider:()=>o});var a=s(54568),n=s(7620),r=s(72734);function o(e){let{children:t}=e;return!function(){let e=(0,r.C)(e=>e.settings);(0,n.useEffect)(()=>{document.documentElement.setAttribute("data-theme",e.appearance.theme),"dark"===e.appearance.colorScheme?document.documentElement.classList.add("dark"):"light"===e.appearance.colorScheme?document.documentElement.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),document.documentElement.style.setProperty("--typing-font",e.appearance.font),e.appearance.animations?document.documentElement.classList.remove("no-animations"):document.documentElement.classList.add("no-animations"),document.documentElement.style.setProperty("--caret-color",e.appearance.caretColor),document.documentElement.style.setProperty("--typing-font-size","".concat(e.appearance.fontSize,"px"));let t=()=>{let t=window.innerWidth<640?Math.max(14,e.appearance.fontSize-2):e.appearance.fontSize;document.documentElement.style.setProperty("--typing-font-size-responsive","".concat(t,"px"))};return t(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}},[e.appearance])}(),(0,a.jsx)(a.Fragment,{children:t})}},73139:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[990,637,526,874,938,721,799,430,587,315,358],()=>t(13649)),_N_E=e.O()}]);